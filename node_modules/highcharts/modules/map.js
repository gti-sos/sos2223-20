/*
 Highmaps JS v11.0.1 (2023-05-08)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(w){a(w);a.Highcharts=w;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function w(a,k,p,y){a.hasOwnProperty(k)||(a[k]=y.apply(null,p),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:k,module:a[k]}})))}a=a?a._modules:
{};w(a,"Core/Axis/Color/ColorAxisComposition.js",[a["Core/Color/Color.js"],a["Core/Utilities.js"]],function(a,k){const {parse:p}=a,{addEvent:g,extend:l,merge:m,pick:x,splat:t}=k;var v;(function(r){function h(){const b=this.options;this.colorAxis=[];b.colorAxis&&(b.colorAxis=t(b.colorAxis),b.colorAxis.forEach((b,c)=>{b.index=c;new A(this,b)}))}function a(b){const c=c=>{c=b.allItems.indexOf(c);-1!==c&&(this.destroyItem(b.allItems[c]),b.allItems.splice(c,1))};let d=[],q,e;(this.chart.colorAxis||[]).forEach(function(b){(q=
b.options)&&q.showInLegend&&(q.dataClasses&&q.visible?d=d.concat(b.getDataClassLegendSymbols()):q.visible&&d.push(b),b.series.forEach(function(b){if(!b.options.showInLegend||q.dataClasses)"point"===b.options.legendType?b.points.forEach(function(b){c(b)}):c(b)}))});for(e=d.length;e--;)b.allItems.unshift(d[e])}function f(b){b.visible&&b.item.legendColor&&b.item.legendItem.symbol.attr({fill:b.item.legendColor})}function e(){const b=this.chart.colorAxis;b&&b.forEach(function(b,c,d){b.update({},d)})}function c(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function b(){const b=this.axisTypes;b?-1===b.indexOf("colorAxis")&&b.push("colorAxis"):this.axisTypes=["colorAxis"]}function d(b){const c=this,d=b?"show":"hide";c.visible=c.options.visible=!!b;["graphic","dataLabel"].forEach(function(b){if(c[b])c[b][d]()});this.series.buildKDTree()}function q(){const b=this,c=this.options.nullColor,d=this.colorAxis,q=this.colorKey;(this.data.length?this.data:this.points).forEach(u=>{var e=u.getNestedProperty(q);
(e=u.options.color||(u.isNull||null===u.value?c:d&&"undefined"!==typeof e?d.toColor(e,u):u.color||b.color))&&u.color!==e&&(u.color=e,"point"===b.options.legendType&&u.legendItem&&u.legendItem.label&&b.chart.legend.colorizeItem(u,u.visible))})}function z(b){const c=b.prototype.createAxis;b.prototype.createAxis=function(b,d){if("colorAxis"!==b)return c.apply(this,arguments);const u=new A(this,m(d.axis,{index:this[b].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(b){b.series=[]});
this.series.forEach(function(b){b.bindAxes();b.isDirtyData=!0});x(d.redraw,!0)&&this.redraw(d.animation);return u}}function B(){this.elem.attr("fill",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}function D(){this.elem.attr("stroke",p(this.start).tweenTo(p(this.end),this.pos),void 0,!0)}const n=[];let A;r.compose=function(r,u,C,E,H){A||(A=r);k.pushUnique(n,u)&&(r=u.prototype,r.collectionsWithUpdate.push("colorAxis"),r.collectionsWithInit.colorAxis=[r.addColorAxis],g(u,"afterGetAxes",h),z(u));
k.pushUnique(n,C)&&(u=C.prototype,u.fillSetter=B,u.strokeSetter=D);k.pushUnique(n,E)&&(g(E,"afterGetAllItems",a),g(E,"afterColorizeItem",f),g(E,"afterUpdate",e));k.pushUnique(n,H)&&(l(H.prototype,{optionalAxis:"colorAxis",translateColors:q}),l(H.prototype.pointClass.prototype,{setVisible:d}),g(H,"afterTranslate",c,{order:1}),g(H,"bindAxes",b))};r.pointSetVisible=d})(v||(v={}));return v});w(a,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",
gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}});w(a,"Core/Axis/Color/ColorAxis.js",[a["Core/Axis/Axis.js"],a["Core/Color/Color.js"],a["Core/Axis/Color/ColorAxisComposition.js"],a["Core/Axis/Color/ColorAxisDefaults.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],
function(a,k,p,y,l,m,x){const {parse:g}=k,{series:v}=m,{extend:r,isNumber:h,merge:F,pick:f}=x;class e extends a{static compose(c,b,d,q){p.compose(e,c,b,d,q)}constructor(c,b){super(c,b);this.beforePadding=!1;this.chart=void 0;this.coll="colorAxis";this.stops=this.options=this.dataClasses=void 0;this.visible=!0;this.init(c,b)}init(c,b){var d=c.options.legend||{};const q=b.layout?"vertical"!==b.layout:"vertical"!==d.layout,f=b.visible;d=F(e.defaultColorAxisOptions,b,{showEmpty:!1,title:null,visible:d.enabled&&
!1!==f});this.coll="colorAxis";this.side=b.side||q?2:1;this.reversed=b.reversed||!q;this.opposite=!q;super.init(c,d);this.userOptions.visible=f;b.dataClasses&&this.initDataClasses(b);this.initStops();this.horiz=q;this.zoomEnabled=!1}initDataClasses(c){const b=this.chart,d=this.legendItem=this.legendItem||{},q=c.dataClasses.length,e=this.options;let f,h=0,n=b.options.chart.colorCount;this.dataClasses=f=[];d.labels=[];(c.dataClasses||[]).forEach(function(c,d){c=F(c);f.push(c);if(b.styledMode||!c.color)"category"===
e.dataClassColor?(b.styledMode||(d=b.options.colors,n=d.length,c.color=d[h]),c.colorIndex=h,h++,h===n&&(h=0)):c.color=g(e.minColor).tweenTo(g(e.maxColor),2>q?.5:d/(q-1))})}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}initStops(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(c){c.color=g(c[1])})}setOptions(c){super.setOptions(c);this.options.crosshair=this.options.marker}setAxisSize(){var c=
this.legendItem&&this.legendItem.symbol;const b=this.chart;var d=b.options.legend||{};let q,f;c?(this.left=d=c.attr("x"),this.top=q=c.attr("y"),this.width=f=c.attr("width"),this.height=c=c.attr("height"),this.right=b.chartWidth-d-f,this.bottom=b.chartHeight-q-c,this.len=this.horiz?f:c,this.pos=this.horiz?d:q):this.len=(this.horiz?d.symbolWidth:d.symbolHeight)||e.defaultLegendLength}normalizedValue(c){this.logarithmic&&(c=this.logarithmic.log2lin(c));return 1-(this.max-c)/(this.max-this.min||1)}toColor(c,
b){const d=this.dataClasses;var q=this.stops;let e,f,h,n;if(d)for(n=d.length;n--;){if(h=d[n],e=h.from,q=h.to,("undefined"===typeof e||c>=e)&&("undefined"===typeof q||c<=q)){f=h.color;b&&(b.dataClass=n,b.colorIndex=h.colorIndex);break}}else{c=this.normalizedValue(c);for(n=q.length;n--&&!(c>q[n][0]););e=q[n]||q[n+1];q=q[n+1]||e;c=1-(q[0]-c)/(q[0]-e[0]||1);f=e.color.tweenTo(q.color,c)}return f}getOffset(){const c=this.legendItem&&this.legendItem.group,b=this.chart.axisOffset[this.side];if(c){this.axisParent=
c;super.getOffset();const d=this.chart.legend;d.allItems.forEach(function(b){b instanceof e&&b.drawLegendSymbol(d,b)});d.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=b}}setLegendColor(){var c=this.reversed,b=c?1:0;c=c?0:1;b=this.horiz?[b,0,c,0]:[0,c,0,b];this.legendColor={linearGradient:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]},stops:this.stops}}drawLegendSymbol(c,b){var d;b=b.legendItem||{};const q=c.padding,h=
c.options,B=this.options.labels,r=f(h.itemDistance,10),n=this.horiz,A=f(h.symbolWidth,n?e.defaultLegendLength:12),a=f(h.symbolHeight,n?12:e.defaultLegendLength),u=f(h.labelPadding,n?16:30);this.setLegendColor();b.symbol||(b.symbol=this.chart.renderer.symbol("roundedRect",0,c.baseline-11,A,a,{r:null!==(d=h.symbolRadius)&&void 0!==d?d:3}).attr({zIndex:1}).add(b.group));b.labelWidth=A+q+(n?r:f(B.x,B.distance)+this.maxLabelLength);b.labelHeight=a+q+(n?u:0)}setState(c){this.series.forEach(function(b){b.setState(c)})}setVisible(){}getSeriesExtremes(){const c=
this.series;let b;let d,e,h=c.length,B,r;this.dataMin=Infinity;for(this.dataMax=-Infinity;h--;){e=c[h];b=e.colorKey=f(e.options.colorKey,e.colorKey,e.pointValKey,e.zoneAxis,"y");var n=e.pointArrayMap;d=e[b+"Min"]&&e[b+"Max"];if(e[b+"Data"])var a=e[b+"Data"];else if(n){if(a=[],n=n.indexOf(b),B=e.yData,0<=n&&B)for(r=0;r<B.length;r++)a.push(f(B[r][n],B[r]))}else a=e.yData;d?(e.minColorValue=e[b+"Min"],e.maxColorValue=e[b+"Max"]):(a=v.prototype.getExtremes.call(e,a),e.minColorValue=a.dataMin,e.maxColorValue=
a.dataMax);"undefined"!==typeof e.minColorValue&&(this.dataMin=Math.min(this.dataMin,e.minColorValue),this.dataMax=Math.max(this.dataMax,e.maxColorValue));d||v.prototype.applyExtremes.call(e)}}drawCrosshair(c,b){const d=this.legendItem||{},e=b&&b.plotX,f=b&&b.plotY,h=this.pos,r=this.len;let n;b&&(n=this.toPixels(b.getNestedProperty(b.series.colorKey)),n<h?n=h-2:n>h+r&&(n=h+r+2),b.plotX=n,b.plotY=this.len-n,super.drawCrosshair(c,b),b.plotX=e,b.plotY=f,this.cross&&!this.cross.addedToColorAxis&&d.group&&
(this.cross.addClass("highcharts-coloraxis-marker").add(d.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(c){const b=this.left,d=c.translatedValue,e=this.top;return h(d)?this.horiz?[["M",d-4,e-6],["L",d+4,e-6],["L",d,e],["Z"]]:[["M",b,d],["L",b-6,d+6],["L",b-6,d-6],["Z"]]:super.getPlotLinePath(c)}update(c,b){const d=this.chart.legend;this.series.forEach(b=>{b.isDirtyData=!0});(c.dataClasses&&
d.allItems||this.dataClasses)&&this.destroyItems();super.update(c,b);this.legendItem&&this.legendItem.label&&(this.setLegendColor(),d.colorizeItem(this,!0))}destroyItems(){const c=this.chart,b=this.legendItem||{};if(b.label)c.legend.destroyItem(this);else if(b.labels)for(const d of b.labels)c.legend.destroyItem(d);c.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0;this.destroyItems();super.destroy(...[].slice.call(arguments))}remove(c){this.destroyItems();super.remove(c)}getDataClassLegendSymbols(){const c=
this,b=c.chart,d=c.legendItem&&c.legendItem.labels||[],e=b.options.legend,h=f(e.valueDecimals,-1),B=f(e.valueSuffix,""),a=b=>c.series.reduce((c,d)=>{c.push(...d.points.filter(c=>c.dataClass===b));return c},[]);let n;d.length||c.dataClasses.forEach((e,f)=>{const u=e.from,q=e.to,{numberFormatter:z}=b;let A=!0;n="";"undefined"===typeof u?n="< ":"undefined"===typeof q&&(n="> ");"undefined"!==typeof u&&(n+=z(u,h)+B);"undefined"!==typeof u&&"undefined"!==typeof q&&(n+=" - ");"undefined"!==typeof q&&(n+=
z(q,h)+B);d.push(r({chart:b,name:n,options:{},drawLegendSymbol:l.rectangle,visible:!0,isDataClass:!0,setState:b=>{for(const c of a(f))c.setState(b)},setVisible:function(){this.visible=A=c.visible=!A;for(const b of a(f))b.setVisible(A);b.legend.colorizeItem(this,A)}},e))});return d}}e.defaultColorAxisOptions=y;e.defaultLegendLength=200;e.keepProps=["legendItem"];Array.prototype.push.apply(a.keepProps,e.keepProps);"";return e});w(a,"Maps/MapNavigationDefaults.js",[a["Core/Defaults.js"],a["Core/Utilities.js"]],
function(a,k){({extend:k}=k);const g={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};k(a.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return a.defaultOptions.mapNavigation=
g});w(a,"Maps/MapNavigation.js",[a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,k,p){function g(f){f&&(f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation(),f.cancelBubble=!0)}function l(f){this.navButtons=[];this.init(f)}const {doc:m}=k,{addEvent:x,extend:t,isNumber:v,merge:r,objectEach:h,pick:F}=p;l.prototype.init=function(f){this.chart=f};l.prototype.update=function(f){let e=this,c=this.chart,b=c.options.mapNavigation,d,q=function(b){this.handler.call(c,
b);g(b)},z=e.navButtons;f&&(b=c.options.mapNavigation=r(c.options.mapNavigation,f));for(;z.length;)z.pop().destroy();F(b.enableButtons,b.enabled)&&!c.renderer.forExport&&(e.navButtonsGroup||(e.navButtonsGroup=c.renderer.g().attr({zIndex:4}).add()),h(b.buttons,function(f,h){var n;f=r(b.buttonOptions,f);!c.styledMode&&f.theme&&(d=f.theme,d.style=r(f.theme.style,f.style));const {text:a,width:B=0,height:u=0,padding:C=0}=f,E=c.renderer.button("+"!==a&&"-"!==a&&a||"",0,0,q,d,void 0,void 0,void 0,"zoomIn"===
h?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[h]).attr({width:B,height:u,title:c.options.lang[h],padding:f.padding,zIndex:5}).add(e.navButtonsGroup);if("+"===a||"-"===a){h=B+1;const b=[["M",C+3,C+u/2],["L",C+h-3,C+u/2]];"+"===a&&b.push(["M",C+h/2,C+3],["L",C+h/2,C+u-3]);c.renderer.path(b).addClass("highcharts-button-symbol").attr(c.styledMode?{}:{stroke:null===(n=f.style)||void 0===n?void 0:n.color,"stroke-width":3,"stroke-linecap":"round"}).add(E)}E.handler=
f.onclick;x(E.element,"dblclick",g);z.push(E);t(f,{width:E.width,height:2*E.height});if(c.hasLoaded)E.align(f,!1,f.alignTo);else{const b=x(c,"load",()=>{E.element&&E.align(f,!1,f.alignTo);b()})}}),f=function(){var d=c.exportingGroup&&c.exportingGroup.getBBox();if(d){const c=e.navButtonsGroup.getBBox();if(!(c.x>=d.x+d.width||c.x+c.width<=d.x||c.y>=d.y+d.height||c.y+c.height<=d.y)){const f=-c.y-c.height+d.y-5;d=d.y+d.height-c.y+5;e.navButtonsGroup.attr({translateY:"bottom"===(b.buttonOptions&&b.buttonOptions.verticalAlign)?
f:d})}}},c.hasLoaded||x(c,"render",f));this.updateEvents(b)};l.prototype.updateEvents=function(f){const e=this.chart;F(f.enableDoubleClickZoom,f.enabled)||f.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||x(e.container,"dblclick",function(c){e.pointer.onContainerDblClick(c)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());F(f.enableMouseWheelZoom,f.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||x(e.container,void 0!==m.onwheel?"wheel":void 0!==m.onmousewheel?
"mousewheel":"DOMMouseScroll",function(c){e.pointer.inClass(c.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(c),g(c));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};t(a.prototype,{fitToBox:function(f,e){[["x","width"],["y","height"]].forEach(function(c){const b=c[0];c=c[1];f[b]+f[c]>e[b]+e[c]&&(f[c]>e[c]?(f[c]=e[c],f[b]=e[b]):f[b]=e[b]+e[c]-f[c]);f[c]>e[c]&&(f[c]=e[c]);f[b]<e[b]&&(f[b]=e[b])});return f},mapZoom:function(f,e,c,b,d){this.mapView&&
(v(f)&&(f=Math.log(f)/Math.log(.5)),this.mapView.zoomBy(f,v(e)&&v(c)?this.mapView.projection.inverse([e,c]):void 0,v(b)&&v(d)?[b,d]:void 0))}});x(a,"beforeRender",function(){this.mapNavigation=new l(this);this.mapNavigation.update()});k.MapNavigation=l});w(a,"Maps/MapPointer.js",[a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,k){const {defined:g,extend:y,pick:l,wrap:m}=k,x=a.prototype.normalize;let t=0,v;y(a.prototype,{normalize:function(a,h){const r=this.chart;a=x.call(this,a,h);r&&r.mapView&&
(h=r.mapView.pixelsToLonLat({x:a.chartX-r.plotLeft,y:a.chartY-r.plotTop}))&&y(a,h);return a},onContainerDblClick:function(a){const h=this.chart;a=this.normalize(a);h.options.mapNavigation.enableDoubleClickZoomTo?h.pointer.inClass(a.target,"highcharts-tracker")&&h.hoverPoint&&h.hoverPoint.zoomTo():h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop)&&h.mapZoom(.5,void 0,void 0,a.chartX,a.chartY)},onContainerMouseWheel:function(a){const h=this.chart;a=this.normalize(a);const r=g(a.wheelDelta)&&-a.wheelDelta/
120||a.deltaY||a.detail;1<=Math.abs(r)&&(t+=Math.abs(r),v&&clearTimeout(v),v=setTimeout(()=>{t=0},50));10>t&&h.isInsidePlot(a.chartX-h.plotLeft,a.chartY-h.plotTop)&&h.mapView&&h.mapView.zoomBy((h.options.mapNavigation.mouseWheelSensitivity-1)*-r,void 0,[a.chartX,a.chartY],1>Math.abs(r)?!1:void 0)}});m(a.prototype,"zoomOption",function(a){const h=this.chart.options.mapNavigation;l(h.enableTouchZoom,h.enabled)&&(this.chart.options.chart.zooming.pinchType="xy");a.apply(this,[].slice.call(arguments,1))});
m(a.prototype,"pinchTranslate",function(a,h,l,f,e,c,b){a.call(this,h,l,f,e,c,b);"map"===this.chart.options.chart.type&&this.hasZoom&&(a=f.scaleX>f.scaleY,this.pinchTranslateDirection(!a,h,l,f,e,c,b,a?f.scaleX:f.scaleY))})});w(a,"Series/ColorMapComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k){const {column:{prototype:g}}=a.seriesTypes,{addEvent:y,defined:l}=k;var m;(function(a){function m(a){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:a&&
"hover"===a.state?1:0})}const p=[];a.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};a.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(a){const h={};!l(a.color)||a.state&&"normal"!==a.state||(h[this.colorProp||
"fill"]=a.color);return h},pointAttribs:g.pointAttribs};a.compose=function(a){const h=a.prototype.pointClass;k.pushUnique(p,h)&&y(h,"afterSetState",m);return a}})(m||(m={}));return m});w(a,"Maps/MapSymbols.js",[a["Core/Renderer/SVG/SVGRenderer.js"]],function(a){const {prototype:{symbols:g}}=a;g.bottombutton=function(a,k,l,m,x){if(x){const a=(null===x||void 0===x?void 0:x.r)||0;x.brBoxY=k-a;x.brBoxHeight=m+a}return g.roundedRect(a,k,l,m,x)};g.topbutton=function(a,k,l,m,x){x&&(x.brBoxHeight=m+((null===
x||void 0===x?void 0:x.r)||0));return g.roundedRect(a,k,l,m,x)};return g});w(a,"Core/Chart/MapChart.js",[a["Core/Chart/Chart.js"],a["Core/Defaults.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,p,y){const {getOptions:l}=k,{merge:g,pick:x}=y;class t extends a{init(a,r){const h=l().credits;a=g({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:x(h.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:x(h.mapTextFull,
"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},a);super.init(a,r)}}(function(a){a.maps={};a.mapChart=function(r,h,l){return new a(r,h,l)};a.splitPath=function(a){"string"===typeof a&&(a=a.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,;]+/).map(a=>/[A-za-z]/.test(a)?a:parseFloat(a)));return p.prototype.pathToSegments(a)}})(t||(t={}));return t});w(a,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(a){let g=-Number.MAX_VALUE,p=
Number.MAX_VALUE,y=-Number.MAX_VALUE,l=Number.MAX_VALUE,m;a.forEach(a=>{const t=a[a.length-2];a=a[a.length-1];"number"===typeof t&&"number"===typeof a&&(p=Math.min(p,t),g=Math.max(g,t),l=Math.min(l,a),y=Math.max(y,a),m=!0)});if(m)return{x1:p,y1:l,x2:g,y2:y}},pointInPolygon:function(a,k){let g,y,l,m=!1,x=a.x,t=a.y;a=0;for(g=k.length-1;a<k.length;g=a++)y=k[a][1]>t,l=k[g][1]>t,y!==l&&x<(k[g][0]-k[a][0])*(t-k[a][1])/(k[g][1]-k[a][1])+k[a][0]&&(m=!m);return m}}});w(a,"Series/Map/MapPoint.js",[a["Series/ColorMapComposition.js"],
a["Maps/MapUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,p,y){const {boundsFromPath:l}=k;({seriesTypes:{scatter:k}}=p);const {extend:m,isNumber:g,pick:t}=y;class v extends k.prototype.pointClass{constructor(){super(...arguments);this.series=this.path=this.options=void 0}static getProjectedPath(a,h){a.projectedPath||(h&&a.geometry?(h.hasCoordinates=!0,a.projectedPath=h.path(a.geometry)):a.projectedPath=a.path);return a.projectedPath||[]}applyOptions(a,h){const l=
this.series;a=super.applyOptions.call(this,a,h);h=l.joinBy;l.mapData&&l.mapMap&&(h=super.getNestedProperty.call(a,h[1]),(h="undefined"!==typeof h&&l.mapMap[h])?m(a,h):-1!==l.pointArrayMap.indexOf("value")&&(a.value=a.value||null));return a}getProjectedBounds(a){var h=v.getProjectedPath(this,a);h=l(h);var m=this.properties;const f=this.series.chart.mapView;if(h){const e=m&&m["hc-middle-lon"],c=m&&m["hc-middle-lat"];f&&g(e)&&g(c)?(a=a.forward([e,c]),h.midX=a[0],h.midY=a[1]):(a=m&&m["hc-middle-x"],m=
m&&m["hc-middle-y"],h.midX=h.x1+(h.x2-h.x1)*t(this.middleX,g(a)?a:.5),a=t(this.middleY,g(m)?m:.5),this.geometry||(a=1-a),h.midY=h.y2-(h.y2-h.y1)*a);return h}}onMouseOver(a){y.clearTimeout(this.colorInterval);if(!this.isNull&&this.visible||this.series.options.nullInteraction)super.onMouseOver.call(this,a);else this.series.onMouseOut(a)}setVisible(a){const h=a?"show":"hide";this.visible=this.options.visible=!!a;if(this.dataLabel)this.dataLabel[h]();this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(a){const h=
this.series.chart,l=h.mapView;var f=this.bounds;if(l&&f){const c=g(this.insetIndex)&&l.insets[this.insetIndex];if(c){var e=c.projectedUnitsToPixels({x:f.x1,y:f.y1});f=c.projectedUnitsToPixels({x:f.x2,y:f.y2});e=l.pixelsToProjectedUnits({x:e.x,y:e.y});f=l.pixelsToProjectedUnits({x:f.x,y:f.y});f={x1:e.x,y1:e.y,x2:f.x,y2:f.y}}l.fitToBounds(f,void 0,!1);this.series.isDirty=!0;h.redraw(a)}}}m(v.prototype,{dataLabelOnNull:a.pointMembers.dataLabelOnNull,moveToTopOnHover:a.pointMembers.moveToTopOnHover,isValid:a.pointMembers.isValid});
return v});w(a,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});w(a,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});w(a,"Extensions/GeoJSON.js",[a["Core/Chart/Chart.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],
function(a,k,p,y){function l(a,e){e||(e=Object.keys(a.objects)[0]);e=a.objects[e];if(e["hc-decoded-geojson"])return e["hc-decoded-geojson"];let c=a.arcs;if(a.transform){const {scale:b,translate:d}=a.transform;c=a.arcs.map(a=>{let c=0,e=0;return a.map(a=>{a=a.slice();a[0]=(c+=a[0])*b[0]+d[0];a[1]=(e+=a[1])*b[1]+d[1];return a})})}const b=a=>"number"===typeof a[0]?a.reduce((b,a,d)=>{let e=0>a?c[~a]:c[a];0>a?(e=e.slice(0,0===d?e.length:e.length-1),e.reverse()):d&&(e=e.slice(1));return b.concat(e)},[]):
a.map(b),d=e.geometries.map(a=>({type:"Feature",properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||b(a.arcs)}}));a={type:"FeatureCollection",copyright:a.copyright,copyrightShort:a.copyrightShort,copyrightUrl:a.copyrightUrl,features:d,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:a.bbox,title:a.title};return e["hc-decoded-geojson"]=a}function m(a,e="map",c){const b=[];a="Topology"===a.type?l(a):a;a.features.forEach(function(a){var c=a.geometry||{},d=c.type;c=c.coordinates;
a=a.properties;let f;"map"!==e&&"mapbubble"!==e||"Polygon"!==d&&"MultiPolygon"!==d?"mapline"!==e||"LineString"!==d&&"MultiLineString"!==d?"mappoint"===e&&"Point"===d&&c.length&&(f={geometry:{coordinates:c,type:d}}):c.length&&(f={geometry:{coordinates:c,type:d}}):c.length&&(f={geometry:{coordinates:c,type:d}});if(f){d=a&&(a.name||a.NAME);c=a&&a.lon;const e=a&&a.lat;b.push(r(f,{lat:"number"===typeof e?e:void 0,lon:"number"===typeof c?c:void 0,name:"string"===typeof d?d:void 0,properties:a}))}});c&&
a.copyrightShort&&(c.chart.mapCredits=g(c.chart.options.credits.mapText,{geojson:a}),c.chart.mapCreditsFull=g(c.chart.options.credits.mapTextFull,{geojson:a}));return b}const {format:g}=k,{win:t}=p,{error:v,extend:r,merge:h,wrap:F}=y;"";a.prototype.transformFromLatLon=function(a,e){var c=this.options.chart.proj4||t.proj4;if(c){var {jsonmarginX:b=0,jsonmarginY:d=0,jsonres:f=1,scale:h=1,xoffset:l=0,xpan:m=0,yoffset:n=0,ypan:A=0}=e;a=c(e.crs,[a.lon,a.lat]);c=e.cosAngle||e.rotation&&Math.cos(e.rotation);
var g=e.sinAngle||e.rotation&&Math.sin(e.rotation);e=e.rotation?[a[0]*c+a[1]*g,-a[0]*g+a[1]*c]:a;return{x:((e[0]-l)*h+m)*f+b,y:-(((n-e[1])*h+A)*f-d)}}v(21,!1,this)};a.prototype.transformToLatLon=function(a,e){const c=this.options.chart.proj4||t.proj4;if(!c)v(21,!1,this);else if(null!==a.y){var {jsonmarginX:b=0,jsonmarginY:d=0,jsonres:h=1,scale:f=1,xoffset:l=0,xpan:m=0,yoffset:n=0,ypan:A=0}=e;a={x:((a.x-b)/h-m)/f+l,y:((a.y-d)/h+A)/f+n};var g=e.cosAngle||e.rotation&&Math.cos(e.rotation),u=e.sinAngle||
e.rotation&&Math.sin(e.rotation);e=c(e.crs,"WGS84",e.rotation?{x:a.x*g+a.y*-u,y:a.x*u+a.y*g}:a);return{lat:e.y,lon:e.x}}};a.prototype.fromPointToLatLon=function(a){return this.mapView&&this.mapView.projectedUnitsToLonLat(a)};a.prototype.fromLatLonToPoint=function(a){return this.mapView&&this.mapView.lonLatToProjectedUnits(a)};F(a.prototype,"addCredits",function(a,e){e=h(!0,this.options.credits,e);this.mapCredits&&(e.href=null);a.call(this,e);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});
p.geojson=m;p.topo2geo=l;return{geojson:m,topo2geo:l}});w(a,"Core/Geometry/PolygonClip.js",[],function(){const a=(a,l,m)=>(l[0]-a[0])*(m[1]-a[1])>(l[1]-a[1])*(m[0]-a[0]),k=(a,l,m,g)=>{var t=[a[0]-l[0],a[1]-l[1]];const p=[m[0]-g[0],m[1]-g[1]];a=a[0]*l[1]-a[1]*l[0];m=m[0]*g[1]-m[1]*g[0];g=1/(t[0]*p[1]-t[1]*p[0]);t=[(a*p[0]-m*t[0])*g,(a*p[1]-m*t[1])*g];t.isIntersection=!0;return t};var p;(function(g){g.clipLineString=(a,m)=>{const l=[];a=g.clipPolygon(a,m,!1);for(m=1;m<a.length;m++)a[m].isIntersection&&
a[m-1].isIntersection&&(l.push(a.splice(0,m)),m=0),m===a.length-1&&l.push(a);return l};g.clipPolygon=(l,m,g=!0)=>{let p=m[m.length-1],v,r,h=l;for(let t=0;t<m.length;t++){const f=h;l=m[t];h=[];v=g?f[f.length-1]:f[0];for(let e=0;e<f.length;e++)r=f[e],a(p,l,r)?(a(p,l,v)||h.push(k(p,l,v,r)),h.push(r)):a(p,l,v)&&h.push(k(p,l,v,r)),v=r;p=l}return h}})(p||(p={}));return p});w(a,"Maps/Projections/LambertConformalConic.js",[],function(){const a=Math.sign||(a=>0===a?0:0<a?1:-1),k=Math.PI/180,p=Math.PI/2;class y{constructor(l){var m,
g=(l.parallels||[]).map(a=>a*k);const t=g[0]||0;g=null!==(m=g[1])&&void 0!==m?m:t;m=Math.cos(t);"object"===typeof l.projectedBounds&&(this.projectedBounds=l.projectedBounds);l=t===g?Math.sin(t):Math.log(m/Math.cos(g))/Math.log(Math.tan((p+g)/2)/Math.tan((p+t)/2));1e-10>Math.abs(l)&&(l=1e-10*(a(l)||1));this.n=l;this.c=m*Math.pow(Math.tan((p+t)/2),l)/l}forward(a){var g=a[0]*k;const {c:l,n:t,projectedBounds:v}=this;a=a[1]*k;0<l?a<-p+.000001&&(a=-p+.000001):a>p-.000001&&(a=p-.000001);var r=l/Math.pow(Math.tan((p+
a)/2),t);a=r*Math.sin(t*g)*63.78137;g=63.78137*(l-r*Math.cos(t*g));r=[a,g];v&&(a<v.x1||a>v.x2||g<v.y1||g>v.y2)&&(r.outside=!0);return r}inverse(g){const m=g[0]/63.78137;g=g[1]/63.78137;const {c:l,n:t}=this;g=l-g;const v=a(t)*Math.sqrt(m*m+g*g);let r=Math.atan2(m,Math.abs(g))*a(g);0>g*t&&(r-=Math.PI*a(m)*a(g));return[r/t/k,(2*Math.atan(Math.pow(l/v,1/t))-p)/k]}}return y});w(a,"Maps/Projections/EqualEarth.js",[],function(){const a=Math.sqrt(3)/2;class k{constructor(){this.bounds={x1:-200.37508342789243,
x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(g){const p=Math.PI/180,l=Math.asin(a*Math.sin(g[1]*p)),m=l*l,k=m*m*m;return[g[0]*p*Math.cos(l)*74.03120656864502/(a*(1.340264+3*-.081106*m+k*(7*.000893+.034164*m))),74.03120656864502*l*(1.340264+-.081106*m+k*(.000893+.003796*m))]}inverse(g){const p=g[0]/74.03120656864502;g=g[1]/74.03120656864502;const l=180/Math.PI;let m=g;let k;let t;for(t=0;12>t;++t){var v=m*m;k=v*v*v;var r=m*(1.340264+-.081106*v+k*(.000893+.003796*v))-g;
v=1.340264+3*-.081106*v+k*(7*.000893+.034164*v);m-=r/=v;if(1e-9>Math.abs(r))break}v=m*m;return[l*a*p*(1.340264+3*-.081106*v+v*v*v*(7*.000893+.034164*v))/Math.cos(m),l*Math.asin(Math.sin(m)/a)]}}return k});w(a,"Maps/Projections/Miller.js",[],function(){const a=Math.PI/4,k=Math.PI/180;class p{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(g){return[g[0]*k*63.78137,79.7267125*Math.log(Math.tan(a+.4*g[1]*k))]}inverse(g){return[g[0]/
63.78137/k,2.5*(Math.atan(Math.exp(g[1]/63.78137*.8))-a)/k]}}return p});w(a,"Maps/Projections/Orthographic.js",[],function(){const a=Math.PI/180;class k{constructor(){this.antimeridianCutting=!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(g){const k=g[0];g=g[1]*a;g=[Math.cos(g)*Math.sin(k*a)*63.78460826781007,63.78460826781007*Math.sin(g)];if(-90>k||90<k)g.outside=!0;return g}inverse(g){const k=g[0]/63.78460826781007;g=g[1]/63.78460826781007;
const l=Math.sqrt(k*k+g*g),m=Math.asin(l),p=Math.sin(m);return[Math.atan2(k*p,l*Math.cos(m))/a,Math.asin(l&&g*p/l)/a]}}return k});w(a,"Maps/Projections/WebMercator.js",[],function(){const a=Math.PI/180;class k{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}forward(g){var k=Math.sin(g[1]*a);k=[63.78137*g[0]*a,63.78137*Math.log((1+k)/(1-k))/2];85.0511287798<Math.abs(g[1])&&(k.outside=!0);return k}inverse(g){return[g[0]/
(63.78137*a),(2*Math.atan(Math.exp(g[1]/63.78137))-Math.PI/2)/a]}}return k});w(a,"Maps/Projections/ProjectionRegistry.js",[a["Maps/Projections/LambertConformalConic.js"],a["Maps/Projections/EqualEarth.js"],a["Maps/Projections/Miller.js"],a["Maps/Projections/Orthographic.js"],a["Maps/Projections/WebMercator.js"]],function(a,k,p,y,l){return{EqualEarth:k,LambertConformalConic:a,Miller:p,Orthographic:y,WebMercator:l}});w(a,"Maps/Projection.js",[a["Core/Geometry/PolygonClip.js"],a["Maps/Projections/ProjectionRegistry.js"],
a["Core/Utilities.js"]],function(a,k,p){const {clipLineString:g,clipPolygon:l}=a,{clamp:m,erase:x}=p,t=2*Math.PI/360,v=a=>{-180>a&&(a+=360);180<a&&(a-=360);return a};class r{static add(a,g){r.registry[a]=g}static greatCircle(a,g,f){const {atan2:e,cos:c,sin:b,sqrt:d}=Math,h=a[1]*t,z=a[0]*t,m=g[1]*t,l=g[0]*t;var n=m-h,A=l-z;n=b(n/2)*b(n/2)+c(h)*c(m)*b(A/2)*b(A/2);n=2*e(d(n),d(1-n));var k=Math.round(6371E3*n/5E5);A=[];f&&A.push(a);if(1<k)for(a=1/k,k=a;.999>k;k+=a){var u=b((1-k)*n)/b(n);const a=b(k*n)/
b(n);var C=u*c(h)*c(z)+a*c(m)*c(l);const f=u*c(h)*b(z)+a*c(m)*b(l);u=u*b(h)+a*b(m);u=e(u,d(C*C+f*f));C=e(f,C);A.push([C/t,u/t])}f&&A.push(g);return A}static insertGreatCircles(a){let h=a.length-1;for(;h--;)if(10<Math.max(Math.abs(a[h][0]-a[h+1][0]),Math.abs(a[h][1]-a[h+1][1]))){const f=r.greatCircle(a[h],a[h+1]);f.length&&a.splice(h+1,0,...f)}}static toString(a){const {name:h,rotation:f}=a||{};return[h,f&&f.join(",")].join(";")}constructor(a={}){this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=
90;this.options=a;const {name:h,projectedBounds:f,rotation:e}=a;this.rotator=e?this.getRotator(e):void 0;const c=h?r.registry[h]:void 0;c&&(this.def=new c(a));const {def:b,rotator:d}=this;b&&(this.maxLatitude=b.maxLatitude||90,this.hasGeoProjection=!0);d&&b?(this.forward=a=>b.forward(d.forward(a)),this.inverse=a=>d.inverse(b.inverse(a))):b?(this.forward=a=>b.forward(a),this.inverse=a=>b.inverse(a)):d&&(this.forward=d.forward,this.inverse=d.inverse);this.bounds="world"===f?b&&b.bounds:f}lineIntersectsBounds(a){const {x1:h,
x2:f,y1:e,y2:c}=this.bounds||{},b=(a,b,c)=>{const [d,e]=a;a=b?0:1;if("number"===typeof c&&d[b]>=c!==e[b]>=c)return a=d[a]+(c-d[b])/(e[b]-d[b])*(e[a]-d[a]),b?[a,c]:[c,a]};let d,g=a[0];if(d=b(a,0,h))g=d,a[1]=d;else if(d=b(a,0,f))g=d,a[1]=d;if(d=b(a,1,e))g=d;else if(d=b(a,1,c))g=d;return g}getRotator(a){const h=a[0]*t,f=(a[1]||0)*t;a=(a[2]||0)*t;const e=Math.cos(f),c=Math.sin(f),b=Math.cos(a),d=Math.sin(a);if(0!==h||0!==f||0!==a)return{forward:a=>{var f=a[0]*t+h,g=a[1]*t,q=Math.cos(g);a=Math.cos(f)*
q;f=Math.sin(f)*q;g=Math.sin(g);q=g*e+a*c;return[Math.atan2(f*b-q*d,a*e-g*c)/t,Math.asin(q*b+f*d)/t]},inverse:a=>{var f=a[0]*t,g=a[1]*t,q=Math.cos(g);a=Math.cos(f)*q;f=Math.sin(f)*q;g=Math.sin(g);q=g*b-f*d;return[(Math.atan2(f*b+g*d,a*e+q*c)-h)/t,Math.asin(q*e-a*c)/t]}}}forward(a){return a}inverse(a){return a}cutOnAntimeridian(a,g){const f=[],e=[a];a.forEach((b,c)=>{let d=a[c-1];if(!c){if(!g)return;d=a[a.length-1]}const e=d[0];var u=b[0];(-90>e||90<e)&&(-90>u||90<u)&&0<e!==0<u&&(u=m((180-(e+360)%
360)/((u+360)%360-(e+360)%360),0,1),f.push({i:c,lat:d[1]+u*(b[1]-d[1]),direction:0>e?1:-1,previousLonLat:d,lonLat:b}))});if(f.length)if(g){if(1===f.length%2){var c=f.slice().sort((a,b)=>Math.abs(b.lat)-Math.abs(a.lat))[0];x(f,c)}for(var b=f.length-2;0<=b;){var d=f[b].i,h=v(180+.000001*f[b].direction),k=v(180-.000001*f[b].direction);d=a.splice(d,f[b+1].i-d,...r.greatCircle([h,f[b].lat],[h,f[b+1].lat],!0));d.push(...r.greatCircle([k,f[b+1].lat],[k,f[b].lat],!0));e.push(d);b-=2}if(c)for(d=0;d<e.length;d++){const {direction:a,
lat:f}=c;b=e[d];k=b.indexOf(c.lonLat);if(-1<k){d=(0>f?-1:1)*this.maxLatitude;var l=v(180+.000001*a);h=v(180-.000001*a);const e=r.greatCircle([l,f],[l,d],!0);for(l+=120*a;-180<l&&180>l;l+=120*a)e.push([l,d]);e.push(...r.greatCircle([h,d],[h,c.lat],!0));b.splice(k,0,...e);break}}}else for(c=f.length;c--;)b=a.splice(f[c].i,a.length,[v(180+.000001*f[c].direction),f[c].lat]),b.unshift([v(180-.000001*f[c].direction),f[c].lat]),e.push(b);return e}path(a){const {bounds:h,def:f,rotator:e}=this,c=[],b="Polygon"===
a.type||"MultiPolygon"===a.type,d=this.hasGeoProjection,q=!f||!1!==f.antimeridianCutting,k=q?e:void 0,m=q?f||this:this;let t;h&&(t=[[h.x1,h.y1],[h.x2,h.y1],[h.x2,h.y2],[h.x1,h.y2]]);const n=a=>{a=a.map(a=>{if(q){k&&(a=k.forward(a));let b=a[0];.000001>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});let e=[a];d&&(r.insertGreatCircles(a),q&&(e=this.cutOnAntimeridian(a,b)));e.forEach(a=>{if(!(2>a.length)){var e=!1,u=!1,f=a=>{e?c.push(["L",a[0],a[1]]):(c.push(["M",a[0],a[1]]),e=
!0)},n=!1,k=!1,z=a.map(a=>{a=m.forward(a);a.outside?n=!0:k=!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(q){b&&z.push(z[0]);if(n){if(!k)return;if(t)if(b)z=l(z,t);else if(h){g(z,t).forEach(a=>{e=!1;a.forEach(f)});return}}z.forEach(f)}else for(let c=0;c<z.length;c++){const g=a[c],h=z[c];if(h.outside)u=!0;else{if(b&&!I){var I=g;a.push(g);z.push(h)}u&&A&&(b&&d?r.greatCircle(A,g).forEach(a=>f(m.forward(a))):e=!1);f(h);var A=g;u=!1}}}})};"LineString"===a.type?n(a.coordinates):
"MultiLineString"===a.type?a.coordinates.forEach(a=>n(a)):"Polygon"===a.type?(a.coordinates.forEach(a=>n(a)),c.length&&c.push(["Z"])):"MultiPolygon"===a.type&&(a.coordinates.forEach(a=>{a.forEach(a=>n(a))}),c.length&&c.push(["Z"]));return c}}r.registry=k;return r});w(a,"Maps/MapView.js",[a["Maps/MapViewOptionsDefault.js"],a["Maps/MapViewInsetsOptionsDefault.js"],a["Extensions/GeoJSON.js"],a["Core/Chart/MapChart.js"],a["Maps/MapUtilities.js"],a["Maps/Projection.js"],a["Core/Utilities.js"]],function(a,
k,p,y,l,m,x){const {topo2geo:g}=p,{maps:v}=y,{boundsFromPath:r,pointInPolygon:h}=l,{addEvent:F,clamp:f,fireEvent:e,isArray:c,isNumber:b,isObject:d,isString:q,merge:z,pick:B,relativeLength:D}=x,n=(a,b)=>{const {width:c,height:d}=b;return Math.log(400.979322/Math.max((a.x2-a.x1)/(c/256),(a.y2-a.y1)/(d/256)))/Math.log(2)};class A{static mergeInsets(a,b){const c=a=>{const b={};a.forEach((a,c)=>{b[a&&a.id||`i${c}`]=a});return b},d=z(c(a),c(b));return Object.keys(d).map(a=>d[a])}createInsets(){const a=
this.options,b=a.insets;b&&b.forEach(b=>{b=new G(this,z(a.insetOptions,b));this.insets.push(b)})}constructor(c,d){this.allowTransformAnimation=!0;this.insets=[];this.padding=[0,0,0,0];this.eventsToUnbind=[];let e;if(!(this instanceof G)){var u=[c.options.chart.map,...(c.options.series||[]).map(a=>a.mapData)].map(a=>this.getGeoMap(a));const a=[];u.forEach(b=>{if(b&&(e||(e=b["hc-recommended-mapview"]),b.bbox)){const [c,d,e,u]=b.bbox;a.push({x1:c,y1:d,x2:e,y2:u})}});const b=a.length&&A.compositeBounds(a);
if(b){const {x1:a,y1:c,x2:d,y2:e}=b;var f=180<d-a&&90<e-c?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[c,e],rotation:[-(a+d)/2]}}this.geoMap=u[0]}this.userOptions=d||{};f=z(a,{projection:f},e,d);u=e&&e.insets;d=d&&d.insets;u&&d&&(f.insets=A.mergeInsets(u,d));this.chart=c;this.center=f.center;this.options=f;this.projection=new m(f.projection);this.playingField=c.plotBox;this.zoom=f.zoom||0;this.createInsets();this.eventsToUnbind.push(F(c,"afterSetChartSize",()=>{this.playingField=this.getField();
if(void 0===this.minZoom||this.minZoom===this.zoom)this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&b(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&z(!0,this.center,this.userOptions.center)}));this.setUpEvents()}fitToBounds(a,b,d=!0,e){const f=a||this.getProjectedBounds();if(f){var u=B(b,a?0:this.options.padding);b=this.getField(!1);u=c(u)?u:[u,u,u,u];this.padding=[D(u[0],b.height),D(u[1],b.width),D(u[2],b.height),D(u[3],b.width)];this.playingField=
this.getField();b=n(f,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(f.x2+f.x1)/2,(f.y2+f.y1)/2]);this.setView(a,b,d,e)}}getField(a=!0){a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-a[0]-a[2]}}getGeoMap(a){if(q(a))return v[a]&&"Topology"===v[a].type?g(v[a]):v[a];if(d(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return g(a)}}getMapBBox(){const a=this.getProjectedBounds(),b=this.getScale();
if(a){const c=this.padding,d=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+c[1]+c[3],height:(a.y2-a.y1)*b+c[0]+c[2],x:d.x-c[3],y:d.y-c[0]}}}getProjectedBounds(){const a=this.projection;var b=this.chart.series.reduce((a,b)=>{const c=b.getProjectedBounds&&b.getProjectedBounds();c&&!1!==b.options.affectsMapView&&a.push(c);return a},[]),c=this.options.fitToGeometry;return c?(this.fitToGeometryCache||("MultiPoint"===c.type?(c=c.coordinates.map(b=>a.forward(b)),b=c.map(a=>a[0]),
c=c.map(a=>a[1]),this.fitToGeometryCache={x1:Math.min.apply(0,b),x2:Math.max.apply(0,b),y1:Math.min.apply(0,c),y2:Math.max.apply(0,c)}):this.fitToGeometryCache=r(a.path(c))),this.fitToGeometryCache):this.projection.bounds||A.compositeBounds(b)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){const {x:a,y:b,width:c,height:d}=this.playingField,e=this.projection.forward(this.center);var f=this.projection.hasCoordinates?-1:1;const g=this.getScale();f*=g;return{scaleX:g,scaleY:f,
translateX:a+c/2-e[0]*g,translateY:b+d/2-e[1]*f}}lonLatToPixels(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)}lonLatToProjectedUnits(a){const b=this.chart,c=b.mapTransforms;if(c){for(const e in c)if(Object.hasOwnProperty.call(c,e)&&c[e].hitZone){var d=b.transformFromLatLon(a,c[e]);if(d&&h(d,c[e].hitZone.coordinates[0]))return d}return b.transformFromLatLon(a,c["default"])}for(d of this.insets)if(d.options.geoBounds&&h({x:a.lon,y:a.lat},d.options.geoBounds.coordinates[0]))return a=
d.projection.forward([a.lon,a.lat]),a=d.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(a);a=this.projection.forward([a.lon,a.lat]);if(!a.outside)return{x:a[0],y:a[1]}}projectedUnitsToLonLat(a){var b=this.chart;const c=b.mapTransforms;if(c){for(const d in c)if(Object.hasOwnProperty.call(c,d)&&c[d].hitZone&&h(a,c[d].hitZone.coordinates[0]))return b.transformToLatLon(a,c[d]);return b.transformToLatLon(a,c["default"])}b=this.projectedUnitsToPixels(a);for(var d of this.insets)if(d.hitZone&&
h(b,d.hitZone.coordinates[0]))return a=d.pixelsToProjectedUnits(b),d=d.projection.inverse([a.x,a.y]),{lon:d[0],lat:d[1]};d=this.projection.inverse([a.x,a.y]);return{lon:d[0],lat:d[1]}}redraw(a){this.chart.series.forEach(a=>{a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)}setView(a,c,d=!0,f){a&&(this.center=a);"number"===typeof c&&("number"===typeof this.minZoom&&(c=Math.max(c,this.minZoom)),"number"===typeof this.options.maxZoom&&(c=Math.min(c,this.options.maxZoom)),b(c)&&(this.zoom=c));var g=
this.getProjectedBounds();if(g){a=this.projection.forward(this.center);const {x:b,y:d,width:e,height:f}=this.playingField;c=this.getScale();var h=this.projectedUnitsToPixels({x:g.x1,y:g.y1}),n=this.projectedUnitsToPixels({x:g.x2,y:g.y2});g=[(g.x1+g.x2)/2,(g.y1+g.y2)/2];if(!this.chart.series.some(a=>a.isDrilling)){const u=h.x,q=n.y;n=n.x;h=h.y;n-u<e?a[0]=g[0]:u<b&&n<b+e?a[0]+=Math.max(u-b,n-e-b)/c:n>b+e&&u>b&&(a[0]+=Math.min(n-e-b,u-b)/c);h-q<f?a[1]=g[1]:q<d&&h<d+f?a[1]-=Math.max(q-d,h-f-d)/c:h>d+
f&&q>d&&(a[1]-=Math.min(h-f-d,q-d)/c);this.center=this.projection.inverse(a)}this.insets.forEach(a=>{a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}e(this,"afterSetView");d&&this.redraw(f)}projectedUnitsToPixels(a){const b=this.getScale(),c=this.projection.forward(this.center),d=this.playingField;return{x:d.x+d.width/2-b*(c[0]-a.x),y:d.y+d.height/2+b*(c[1]-a.y)}}pixelsToLonLat(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))}pixelsToProjectedUnits(a){const {x:b,
y:c}=a;a=this.getScale();const d=this.projection.forward(this.center),e=this.playingField;return{x:d[0]+(b-(e.x+e.width/2))/a,y:d[1]-(c-(e.y+e.height/2))/a}}setUpEvents(){const {chart:a}=this;let c,d,e;const g=g=>{var h=a.pointer.pinchDown,q=this.projection;let {mouseDownX:u,mouseDownY:k}=a;1===h.length&&(u=h[0].chartX,k=h[0].chartY);if("number"===typeof u&&"number"===typeof k){h=`${u},${k}`;const {chartX:l,chartY:m}=g.originalEvent;h!==d&&(d=h,c=this.projection.forward(this.center),e=(this.projection.options.rotation||
[0,0]).slice());h=(h=q.def&&q.def.bounds)&&n(h,this.playingField)||-Infinity;if("Orthographic"===q.options.name&&(this.minZoom||Infinity)<1.3*h){if(h=440/(this.getScale()*Math.min(a.plotWidth,a.plotHeight)),e){q=(u-l)*h-e[0];h=f(-e[1]-(k-m)*h,-80,80);const b=this.zoom;this.update({projection:{rotation:[-q,-h]}},!1);this.fitToBounds(void 0,void 0,!1);this.zoom=b;a.redraw(!1)}}else b(l)&&b(m)&&(q=this.getScale(),q=this.projection.inverse([c[0]+(u-l)/q,c[1]-(k-m)/q*(this.projection.hasCoordinates?1:
-1)]),this.setView(q,void 0,!0,!1));g.preventDefault()}};F(a,"pan",g);F(a,"touchpan",g);F(a,"selection",b=>{if(b.resetSelection)this.zoomBy();else{const c=b.x-a.plotLeft,d=b.y-a.plotTop,{y:e,x:f}=this.pixelsToProjectedUnits({x:c,y:d}),{y:g,x:h}=this.pixelsToProjectedUnits({x:c+b.width,y:d+b.height});this.fitToBounds({x1:f,y1:e,x2:h,y2:g},void 0,!0,b.originalEvent.touches?!1:void 0);/^touch/.test(b.originalEvent.type)||a.showResetZoom();b.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(a,
c=!0,d){var e=a.projection;e=e&&m.toString(e)!==m.toString(this.options.projection);let f=!1;z(!0,this.userOptions,a);z(!0,this.options,a);"insets"in a&&(this.insets.forEach(a=>a.destroy()),this.insets.length=0,f=!0);(e||"fitToGeometry"in a)&&delete this.fitToGeometryCache;if(e||f)this.chart.series.forEach(a=>{const b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=!0;a.isDirtyData=!0;if(f&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),e&&(this.projection=new m(this.options.projection)),
f&&this.createInsets(),a.center||!Object.hasOwnProperty.call(a,"zoom")||b(a.zoom)||this.fitToBounds(void 0,void 0,!1);a.center||b(a.zoom)?this.setView(this.options.center,a.zoom,!1):"fitToGeometry"in a&&this.fitToBounds(void 0,void 0,!1);c&&this.chart.redraw(d)}zoomBy(a,b,c,d){var e=this.chart;const f=this.projection.forward(this.center);let [g,h]=b?this.projection.forward(b):[];if("number"===typeof a){a=this.zoom+a;if(c){const [a,d]=c;c=this.getScale();b=d-e.plotTop-e.plotHeight/2;g=f[0]+(a-e.plotLeft-
e.plotWidth/2)/c;h=f[1]+b/c}if("number"===typeof g&&"number"===typeof h){e=1-Math.pow(2,this.zoom)/Math.pow(2,a);var n=f[1]-h;f[0]-=(f[0]-g)*e;f[1]+=n*e;n=this.projection.inverse(f)}this.setView(n,a,void 0,d)}else this.fitToBounds(void 0,void 0,void 0,d)}}A.compositeBounds=a=>{if(a.length)return a.slice(1).reduce((a,b)=>{a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);return a},z(a[0]))};class G extends A{constructor(a,b){super(a.chart,b);this.id=
b.id;this.mapView=a;this.options=z(k,b);this.allBounds=[];this.options.geoBounds&&(a=a.projection.path(this.options.geoBounds),this.geoBoundsProjectedBox=r(a),this.geoBoundsProjectedPolygon=a.map(a=>[a[1]||0,a[2]||0]))}getField(a=!0){var c=this.hitZone;if(c){var d=a?this.padding:[0,0,0,0];c=c.coordinates[0];var e=c.map(a=>a[0]);const f=c.map(a=>a[1]);c=Math.min.apply(0,e)+d[3];e=Math.max.apply(0,e)-d[1];const g=Math.min.apply(0,f)+d[0];d=Math.max.apply(0,f)-d[2];if(b(c)&&b(g))return{x:c,y:g,width:e-
c,height:d-g}}return super.getField.call(this,a)}getHitZone(){const {chart:a,mapView:b,options:c}=this;var {coordinates:d}=c.field||{};if(d){d=d[0];if("percent"===c.units){const e="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||z(a.plotBox,{x:0,y:0});d=d.map(a=>[D(`${a[0]}%`,e.width,e.x),D(`${a[1]}%`,e.height,e.y)])}return{type:"Polygon",coordinates:[d]}}}getProjectedBounds(){return A.compositeBounds(this.allBounds)}isInside(a){const {geoBoundsProjectedBox:b,geoBoundsProjectedPolygon:c}=this;return!!(b&&
a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2&&c&&h(a,c))}render(){const {chart:a,mapView:b,options:c}=this;var d=c.borderPath||c.field;if(d&&b.group){let e=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),e=!1);a.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});const f=Math.round(this.border.strokeWidth())%2/2,g="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||b.playingField;d=(d.coordinates||[]).reduce((b,d)=>d.reduce((b,
d,e)=>{let [h,n]=d;"percent"===c.units&&(h=a.plotLeft+D(`${h}%`,g.width,g.x),n=a.plotTop+D(`${n}%`,g.height,g.y));h=Math.floor(h)+f;n=Math.floor(n)+f;b.push(0===e?["M",h,n]:["L",h,n]);return b},b),[]);this.border[e?"animate":"attr"]({d})}}destroy(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(a=>a())}setUpEvents(){}}F(y,"afterInit",function(){this.mapView=new A(this,this.options.mapView)});return A});w(a,"Series/Map/MapSeries.js",[a["Core/Animation/AnimationUtilities.js"],
a["Series/ColorMapComposition.js"],a["Series/CenteredUtilities.js"],a["Core/Globals.js"],a["Core/Chart/MapChart.js"],a["Series/Map/MapPoint.js"],a["Maps/MapView.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,p,y,l,m,x,t,v,r,h){const {animObject:g}=a;({noop:a}=y);const {splitPath:f}=l,{seriesTypes:{column:e,scatter:c}}=v,{extend:b,find:d,fireEvent:q,getNestedProperty:z,isArray:B,defined:D,isNumber:n,isObject:A,
merge:G,objectEach:u,pick:C,splat:E}=h;class w extends c{constructor(){super(...arguments);this.points=this.options=this.joinBy=this.group=this.data=this.chart=void 0;this.processedData=[]}animate(a){const {chart:b,group:c}=this,d=g(this.options.animation);a?c.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):c.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},d)}clearBounds(){this.points.forEach(a=>{delete a.bounds;delete a.insetIndex;
delete a.projectedPath});delete this.bounds}doFullTranslate(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)}drawMapDataLabels(){t.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){const a=this,{chart:b,group:c,transformGroups:d=[]}=this,{mapView:f,renderer:g}=b;f&&(this.transformGroups=d,d[0]||(d[0]=g.g().add(c)),f.insets.forEach((a,b)=>{d[b+1]||d.push(g.g().add(c))}),this.doFullTranslate()&&(this.points.forEach(a=>
{const {graphic:c,shapeArgs:e}=a;a.group=d["number"===typeof a.insetIndex?a.insetIndex+1:0];c&&c.parentGroup!==a.group&&c.add(a.group);e&&b.hasRendered&&!b.styledMode&&(e.fill=this.pointAttribs(a,a.state).fill)}),e.prototype.drawPoints.apply(this),this.points.forEach(c=>{const d=c.graphic;if(d){const e=d.animate;let f="";c.name&&(f+="highcharts-name-"+c.name.replace(/ /g,"-").toLowerCase());c.properties&&c.properties["hc-key"]&&(f+=" highcharts-key-"+c.properties["hc-key"].toString().toLowerCase());
f&&d.addClass(f);b.styledMode&&d.css(this.pointAttribs(c,c.selected&&"select"||void 0));d.animate=function(c,f,g){const h=n(c["stroke-width"])&&!n(d["stroke-width"]),q=n(d["stroke-width"])&&!n(c["stroke-width"]);if(h||q){const e=C(a.getStrokeWidth(a.options),1)/(b.mapView&&b.mapView.getScale()||1);h&&(d["stroke-width"]=e);q&&(c["stroke-width"]=e)}return e.call(d,c,f,q?function(){d.element.removeAttribute("stroke-width");delete d["stroke-width"];g&&g.apply(this,arguments)}:g)}}})),d.forEach((c,d)=>
{const e=(0===d?f:f.insets[d-1]).getSVGTransform(),h=C(this.getStrokeWidth(this.options),1),n=e.scaleX,q=0<e.scaleY?1:-1,k=b=>{(a.points||[]).forEach(a=>{const c=a.graphic;let d;c&&c["stroke-width"]&&(d=this.getStrokeWidth(a.options))&&c.attr({"stroke-width":d/b})})};if(g.globalAnimation&&b.hasRendered&&f.allowTransformAnimation){const a=Number(c.attr("translateX")),f=Number(c.attr("translateY")),l=Number(c.attr("scaleX")),m=(b,d)=>{b=l+(n-l)*d.pos;c.attr({translateX:a+(e.translateX-a)*d.pos,translateY:f+
(e.translateY-f)*d.pos,scaleX:b,scaleY:b*q,"stroke-width":h/b});k(b)};d={};b.options.chart&&(d=G({},b.options.chart.animation));if("boolean"!==typeof d){const a=d.step;d.step=function(b){a&&a.apply(this,arguments);m.apply(this,arguments)}}c.attr({animator:0}).animate({animator:1},d,function(){"boolean"!==typeof g.globalAnimation&&g.globalAnimation.complete&&g.globalAnimation.complete({applyDrilldown:!0})})}else c.attr(G(e,{"stroke-width":h/n})),k(n)}),this.isDrilling||this.drawMapDataLabels())}getProjectedBounds(){if(!this.bounds&&
this.chart.mapView){const {insets:a,projection:b}=this.chart.mapView,c=[];(this.points||[]).forEach(function(e){if(e.path||e.geometry){"string"===typeof e.path?e.path=f(e.path):B(e.path)&&"M"===e.path[0]&&(e.path=r.prototype.pathToSegments(e.path));if(!e.bounds){let c=e.getProjectedBounds(b);if(c){e.labelrank=C(e.labelrank,(c.x2-c.x1)*(c.y2-c.y1));const {midX:b,midY:f}=c;if(a&&n(b)&&n(f)){const g=d(a,a=>a.isInside({x:b,y:f}));g&&(delete e.projectedPath,(c=e.getProjectedBounds(g.projection))&&g.allBounds.push(c),
e.insetIndex=a.indexOf(g))}e.bounds=c}}e.bounds&&void 0===e.insetIndex&&c.push(e.bounds)}});this.bounds=x.compositeBounds(c)}return this.bounds}getStrokeWidth(a){const b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(a,b){var c;const {mapView:d,styledMode:f}=a.series.chart,g=f?this.colorAttribs(a):e.prototype.pointAttribs.call(this,a,b);let h=this.getStrokeWidth(a.options);if(b){b=G(this.options.states[b],a.options.states&&
a.options.states[b]||{});const d=this.getStrokeWidth(b);D(d)&&(h=d);g.stroke=null!==(c=b.borderColor)&&void 0!==c?c:a.color}h&&d&&(h/=d.getScale());c=this.getStrokeWidth(this.options);g.dashstyle&&d&&n(c)&&(h=c/d.getScale());a.visible||(g.fill=this.options.nullColor);D(h)?g["stroke-width"]=h:delete g["stroke-width"];g["stroke-linecap"]=g["stroke-linejoin"]=this.options.linecap;return g}updateData(){return this.processedData?!1:super.updateData.apply(this,arguments)}setData(a,b=!0,c,d){delete this.bounds;
super.setData.call(this,a,!1,void 0,d);this.processData();this.generatePoints();b&&this.chart.redraw(c)}processData(){const a=this.options,b=a.data;var c=this.chart.options.chart;const d=this.joinBy,e=a.keys||this.pointArrayMap,f=[],g={};var h=this.chart.mapView;h=h&&(A(a.mapData,!0)?h.getGeoMap(a.mapData):h.geoMap);var q=this.chart.mapTransforms;(this.chart.mapTransforms=q=c.mapTransforms||h&&h["hc-transform"]||q)&&u(q,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});
let k;B(a.mapData)?k=a.mapData:h&&"FeatureCollection"===h.type&&(this.mapTitle=h.title,k=y.geojson(h,this.type,this));const l=this.processedData=[];b&&b.forEach(function(c,f){let g=0;if(n(c))l[f]={value:c};else if(B(c)){l[f]={};!a.keys&&c.length>e.length&&"string"===typeof c[0]&&(l[f]["hc-key"]=c[0],++g);for(let a=0;a<e.length;++a,++g)e[a]&&"undefined"!==typeof c[g]&&(0<e[a].indexOf(".")?m.prototype.setNestedProperty(l[f],c[g],e[a]):l[f][e[a]]=c[g])}else l[f]=b[f];d&&"_i"===d[0]&&(l[f]._i=f)});if(k){this.mapData=
k;this.mapMap={};for(q=0;q<k.length;q++)c=k[q],h=c.properties,c._i=q,d[0]&&h&&h[d[0]]&&(c[d[0]]=h[d[0]]),g[c[d[0]]]=c;this.mapMap=g;if(d[1]){const a=d[1];l.forEach(function(b){b=z(a,b);g[b]&&f.push(g[b])})}if(a.allAreas){if(d[1]){const a=d[1];l.forEach(function(b){f.push(z(a,b))})}const a="|"+f.map(function(a){return a&&a[d[0]]}).join("|")+"|";k.forEach(function(b){d[0]&&-1!==a.indexOf("|"+b[d[0]]+"|")||l.push(G(b,{value:null}))})}}this.processedXData=Array(l.length)}setOptions(a){a=t.prototype.setOptions.call(this,
a);let b=a.joinBy;null===b&&(b="_i");b=this.joinBy=E(b);b[1]||(b[1]=b[0]);return a}translate(){const a=this.doFullTranslate(),b=this.chart.mapView,c=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||n(b.userOptions.zoom)||b.zoom!==b.minZoom?this.getProjectedBounds():b.fitToBounds(void 0,void 0,!1));if(b){const d=b.getSVGTransform();this.points.forEach(function(e){const f=n(e.insetIndex)&&
b.insets[e.insetIndex].getSVGTransform()||d;f&&e.bounds&&n(e.bounds.midX)&&n(e.bounds.midY)&&(e.plotX=e.bounds.midX*f.scaleX+f.translateX,e.plotY=e.bounds.midY*f.scaleY+f.translateY);a&&(e.shapeType="path",e.shapeArgs={d:m.getProjectedPath(e,c)});e.projectedPath&&!e.projectedPath.length?e.setVisible(!1):e.setVisible(!0)})}q(this,"afterTranslate")}}w.defaultOptions=G(c.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){const {numberFormatter:a}=this.series.chart,
{value:b}=this.point;return n(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"});b(w.prototype,{type:"map",axisTypes:k.seriesMembers.axisTypes,
colorAttribs:k.seriesMembers.colorAttribs,colorKey:k.seriesMembers.colorKey,directTouch:!0,drawDataLabels:a,drawGraph:a,forceDL:!0,getCenter:p.getCenter,getExtremesFromAll:!0,getSymbol:a,isCartesian:!1,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:k.seriesMembers.pointArrayMap,pointClass:m,preserveAspectRatio:!0,searchPoint:a,trackerGroups:k.seriesMembers.trackerGroups,useMapGeometry:!0});k.compose(w);v.registerSeriesType("map",w);"";return w});w(a,"Series/MapLine/MapLineSeries.js",
[a["Series/Map/MapSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,p){const {extend:g,merge:l}=p;class m extends a{constructor(){super(...arguments);this.points=this.options=this.data=void 0}pointAttribs(g,k){g=a.prototype.pointAttribs.call(this,g,k);g.fill=this.options.fillColor;return g}}m.defaultOptions=l(a.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"});g(m.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color",
"stroke-width":"lineWidth"}});k.registerSeriesType("mapline",m);"";return m});w(a,"Series/MapPoint/MapPointPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k){({seriesTypes:{scatter:a}}=a);const {isNumber:g}=k;class y extends a.prototype.pointClass{constructor(){super(...arguments);this.series=this.options=void 0}isValid(){return!!(this.options.geometry||g(this.x)&&g(this.y)||g(this.options.lon)&&g(this.options.lat))}}return y});w(a,"Series/MapPoint/MapPointSeries.js",
[a["Core/Globals.js"],a["Series/MapPoint/MapPointPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,p,y,l){({noop:a}=a);const {seriesTypes:{map:g,scatter:x}}=p,{extend:t,fireEvent:v,isNumber:r,merge:h}=l;class w extends x{constructor(){super(...arguments);this.points=this.options=this.data=this.chart=void 0;this.clearBounds=g.prototype.clearBounds}drawDataLabels(){super.drawDataLabels();this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(a){const e=
this.chart.mapView;if(e){const {geometry:c,lon:b,lat:d}=a;a=c&&"Point"===c.type&&c.coordinates;r(b)&&r(d)&&(a=[b,d]);if(a)return e.lonLatToProjectedUnits({lon:a[0],lat:a[1]})}}translate(){const a=this.chart.mapView;this.processedXData||this.processData();this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(a){const e=a.getSVGTransform(),{hasCoordinates:c}=a.projection;this.points.forEach(b=>{let {x:d,y:f}=b;var g=r(b.insetIndex)&&a.insets[b.insetIndex].getSVGTransform()||
e;const h=this.projectPoint(b.options)||b.properties&&this.projectPoint(b.properties);let k;h?(d=h.x,f=h.y):b.bounds&&(d=b.bounds.midX,f=b.bounds.midY,g&&r(d)&&r(f)&&(b.plotX=d*g.scaleX+g.translateX,b.plotY=f*g.scaleY+g.translateY,k=!0));r(d)&&r(f)?k||(g=a.projectedUnitsToPixels({x:d,y:f}),b.plotX=g.x,b.plotY=c?g.y:this.chart.plotHeight-g.y):b.y=b.plotX=b.plotY=void 0;b.isInside=this.isPointInside(b);b.zone=this.zones.length?b.getZone():void 0})}v(this,"afterTranslate")}}w.defaultOptions=h(x.defaultOptions,
{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"});y.prototype.symbols.mapmarker=(a,e,c,b,d)=>{const f=d&&"legend"===d.context;f?(a+=c/2,d=e+b):d&&"number"===typeof d.anchorX&&"number"===typeof d.anchorY?(a=d.anchorX,d=d.anchorY):(a+=c/2,d=e+b/2,e-=b);b=f?b/3:b/2;return[["M",a,d],["C",a,d,a-b,e+1.5*b,a-b,e+b],["A",b,b,1,1,1,a+b,e+b],["C",a+b,e+1.5*b,a,d,a,d],["Z"]]};t(w.prototype,{type:"mappoint",axisTypes:["colorAxis"],
forceDL:!0,isCartesian:!1,pointClass:k,searchPoint:a,useMapGeometry:!0});p.registerSeriesType("mappoint",w);"";return w});w(a,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,
legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});w(a,"Series/Bubble/BubbleLegendItem.js",[a["Core/Color/Color.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,k,p,y){const {parse:g}=a,{noop:m}=p,{arrayMax:x,arrayMin:t,isNumber:v,merge:r,pick:h,stableSort:w}=y;class f{constructor(a,c){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=
this.maxLabel=this.legend=this.chart=void 0;this.setState=m;this.init(a,c)}init(a,c){this.options=a;this.visible=!0;this.chart=c.chart;this.legend=c}addToLegend(a){a.splice(this.options.legendIndex,0,this)}drawLegendSymbol(a){const c=h(a.options.itemDistance,20),b=this.legendItem||{},d=this.options;var e=d.ranges,f=d.connectorDistance;if(e&&e.length&&v(e[0].value)){w(e,function(a,b){return b.value-a.value});this.ranges=e;this.setOptions();this.render();a=this.getMaxLabelSize();var g=this.ranges[0].radius;
e=2*g;f=f-g+a.width;f=0<f?f:0;this.maxLabel=a;this.movementX="left"===d.labels.align?f:0;b.labelWidth=e+f+c;b.labelHeight=e+a.height/2}else a.options.bubbleLegend.autoRanges=!0}setOptions(){const a=this.ranges,c=this.options,b=this.chart.series[c.seriesIndex],d=this.legend.baseline,f={zIndex:c.zIndex,"stroke-width":c.borderWidth},k={zIndex:c.zIndex,"stroke-width":c.connectorWidth},l={align:this.legend.options.rtl||"left"===c.labels.align?"right":"left",zIndex:c.zIndex},m=b.options.marker.fillOpacity,
n=this.chart.styledMode;a.forEach(function(e,q){n||(f.stroke=h(e.borderColor,c.borderColor,b.color),f.fill=h(e.color,c.color,1!==m?g(b.color).setOpacity(m).get("rgba"):b.color),k.stroke=h(e.connectorColor,c.connectorColor,b.color));a[q].radius=this.getRangeRadius(e.value);a[q]=r(a[q],{center:a[0].radius-a[q].radius+d});n||r(!0,a[q],{bubbleAttribs:r(f),connectorAttribs:r(k),labelAttribs:l})},this)}getRangeRadius(a){const c=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,
c.ranges[c.ranges.length-1].value,c.ranges[0].value,c.minSize,c.maxSize,a)}render(){const a=this.legendItem||{},c=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});a.symbol=c.g("bubble-legend");a.label=c.g("bubble-legend-item");a.symbol.translateX=0;a.symbol.translateY=0;a.symbol.add(a.label);a.label.add(a.group);for(const a of this.ranges)a.value>=b&&this.renderRange(a);this.hideOverlappingLabels()}renderRange(a){var c=this.options;
const b=c.labels;var d=this.chart;const e=d.series[c.seriesIndex],f=d.renderer,g=this.symbols;d=g.labels;const h=a.center,n=Math.abs(a.radius);var k=c.connectorDistance||0;const l=b.align,m=c.connectorWidth,r=this.ranges[0].radius||0,t=h-n-c.borderWidth/2+m/2,p=f.styledMode;k=this.legend.options.rtl||"left"===l?-k:k;"center"===l&&(k=0,c.connectorDistance=0,a.labelAttribs.align="center");g.bubbleItems.push(f.circle(r,h+((t%1?1:.5)-(m%2?0:.5)),n).attr(p?{}:a.bubbleAttribs).addClass((p?"highcharts-color-"+
e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(c.className||"")).add(this.legendItem.symbol));g.connectors.push(f.path(f.crispLine([["M",r,t],["L",r+k,t]],c.connectorWidth)).attr(p?{}:a.connectorAttribs).addClass((p?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(c.connectorClassName||"")).add(this.legendItem.symbol));a=f.text(this.formatLabel(a)).attr(p?{}:a.labelAttribs).css(p?{}:b.style).addClass("highcharts-bubble-legend-labels "+(c.labels.className||
"")).add(this.legendItem.symbol);c={x:r+k+c.labels.x,y:t+c.labels.y+.4*a.getBBox().height};a.attr(c);d.push(a);a.placed=!0;a.alignAttr=c}getMaxLabelSize(){let a,c;this.symbols.labels.forEach(function(b){c=b.getBBox(!0);a=a?c.width>a.width?c:a:c});return a||{}}formatLabel(a){var c=this.options;const b=c.labels.formatter;c=c.labels.format;const {numberFormatter:d}=this.chart;return c?k.format(c,a):b?b.call(a):d(a.value,1)}hideOverlappingLabels(){const a=this.chart,c=this.symbols;!this.options.labels.allowOverlap&&
c&&(a.hideOverlappingLabels(c.labels),c.labels.forEach(function(a,d){a.newOpacity?a.newOpacity!==a.oldOpacity&&c.connectors[d].show():c.connectors[d].hide()}))}getRanges(){const a=this.legend.bubbleLegend,c=a.options.ranges;let b,d,f=Number.MAX_VALUE,g=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(d=a.zData.filter(v),d.length&&(f=h(a.options.zMin,Math.min(f,Math.max(t(d),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),g=h(a.options.zMax,
Math.max(g,x(d)))))});b=f===g?[{value:g}]:[{value:f},{value:(f+g)/2},{value:g,autoRanges:!0}];c.length&&c[0].radius&&b.reverse();b.forEach(function(a,d){c&&c[d]&&(b[d]=r(c[d],a))});return b}predictBubbleSizes(){var a=this.chart,c=a.legend.options,b=c.floating;const d=(c="horizontal"===c.layout)?a.legend.lastLineHeight:0,f=a.plotSizeX,g=a.plotSizeY;var h=a.series[this.options.seriesIndex],k=h.getPxExtremes();a=Math.ceil(k.minPxSize);k=Math.ceil(k.maxPxSize);const n=Math.min(g,f);h=h.options.maxSize;
if(b||!/%$/.test(h))b=k;else if(h=parseFloat(h),b=(n+d)*h/100/(h/100+1),c&&g-b>=f||!c&&f-b>=g)b=k;return[a,Math.ceil(b)]}updateRanges(a,c){const b=this.legend.options.bubbleLegend;b.minSize=a;b.maxSize=c;b.ranges=this.getRanges()}correctSizes(){const a=this.legend,c=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(c.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,c.maxPxSize),a.render())}}"";return f});w(a,"Series/Bubble/BubbleLegendComposition.js",
[a["Series/Bubble/BubbleLegendDefaults.js"],a["Series/Bubble/BubbleLegendItem.js"],a["Core/Defaults.js"],a["Core/Utilities.js"]],function(a,k,p,y){function g(a,c,e){const b=this.legend;var d=0<=m(this);let g,h;b&&b.options.enabled&&b.bubbleLegend&&b.options.bubbleLegend.autoRanges&&d?(g=b.bubbleLegend.options,d=b.bubbleLegend.predictBubbleSizes(),b.bubbleLegend.updateRanges(d[0],d[1]),g.placed||(b.group.placed=!1,b.allItems.forEach(a=>{h=a.legendItem||{};h.group&&(h.group.translateY=null)})),b.render(),
this.getMargins(),this.axes.forEach(function(a){a.visible&&a.render();g.placed||(a.setScale(),a.updateNames(),f(a.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))}),g.placed=!0,this.getMargins(),a.call(this,c,e),b.bubbleLegend.correctSizes(),r(b,x(b))):(a.call(this,c,e),b&&b.options.enabled&&b.bubbleLegend&&(b.render(),r(b,x(b))))}function m(a){a=a.series;let b=0;for(;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function x(a){a=a.allItems;const b=[],c=
a.length;let e,f,g=0;for(f=0;f<c;f++){var h=a[f].legendItem||{};e=(a[f+1]||{}).legendItem||{};h.labelHeight&&(a[f].itemHeight=h.labelHeight);if(a[f]===a[c-1]||h.y!==e.y){b.push({height:0});h=b[b.length-1];for(g;g<=f;g++)a[g].itemHeight>h.height&&(h.height=a[g].itemHeight);h.step=f}}return b}function t(a){const b=this.bubbleLegend,c=this.options,e=c.bubbleLegend,f=m(this.chart);b&&b.ranges&&b.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(b));0<=f&&c.enabled&&
e.enabled&&(e.seriesIndex=f,this.bubbleLegend=new k(e,this),this.bubbleLegend.addToLegend(a.allItems))}function v(a){if(a.defaultPrevented)return!1;var b=this.chart;a=this.visible;const c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!a,this.ignoreSeries=a,b=0<=m(b),c.bubbleLegend.visible!==b&&(c.update({bubbleLegend:{enabled:b}}),c.bubbleLegend.visible=b),this.visible=a)}function r(a,c){const b=a.options.rtl;let d,e,f,g,h=0;a.allItems.forEach((a,k)=>{g=a.legendItem||{};if(g.group){d=g.group.translateX||
0;e=g.y||0;if((f=a.movementX)||b&&a.ranges)f=b?d-a.options.maxSize/2:d+f,g.group.attr({translateX:f});k>c[h].step&&h++;g.group.attr({translateY:Math.round(e+c[h].height/2)});g.y=e+c[h].height/2}})}const {setOptions:h}=p,{addEvent:w,objectEach:f,wrap:e}=y,c=[];return{compose:function(b,d,f){y.pushUnique(c,b)&&(h({legend:{bubbleLegend:a}}),e(b.prototype,"drawChartBox",g));y.pushUnique(c,d)&&w(d,"afterGetAllItems",t);y.pushUnique(c,f)&&w(f,"legendItemClick",v)}}});w(a,"Series/Bubble/BubblePoint.js",
[a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,p){({seriesTypes:{scatter:{prototype:{pointClass:k}}}}=k);({extend:p}=p);class g extends k{constructor(){super(...arguments);this.series=this.options=void 0}haloPath(g){return a.prototype.haloPath.call(this,0===g?0:(this.marker?this.marker.radius||0:0)+g)}}p(g.prototype,{ttBelow:!1});return g});w(a,"Series/Bubble/BubbleSeries.js",[a["Series/Bubble/BubbleLegendComposition.js"],a["Series/Bubble/BubblePoint.js"],
a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,p,y,l,m){function g(){const a=this.len,b=this.chart,c=this.isXAxis,e=c?"xData":"yData",f=this.min,g=this.max-f;let h=0,k=a,l=a/g,m;this.series.forEach(a=>{if(a.bubblePadding&&(a.visible||!b.options.chart.ignoreHiddenSeries)){m=this.allowZoomOutside=!0;const b=a[e];c&&((a.onPoint||a).getRadii(0,0,a),a.onPoint&&(a.radii=a.onPoint.radii));if(0<g){let c=b.length;for(;c--;)if(d(b[c])&&
this.dataMin<=b[c]&&b[c]<=this.max){const d=a.radii&&a.radii[c]||0;h=Math.min((b[c]-f)*l-d,h);k=Math.max((b[c]-f)*l+d,k)}}}});m&&0<g&&!this.logarithmic&&(k-=a,l*=(a+Math.max(0,h)-Math.min(k,a))/a,[["min","userMin",h],["max","userMax",k]].forEach(a=>{"undefined"===typeof z(this.options[a[0]],this[a[1]])&&(this[a[0]]+=a[2]/l)}))}const {parse:t}=p;({noop:p}=y);const {series:v,seriesTypes:{column:{prototype:r},scatter:h}}=l,{addEvent:w,arrayMax:f,arrayMin:e,clamp:c,extend:b,isNumber:d,merge:q,pick:z}=
m,B=[];class D extends h{constructor(){super(...arguments);this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(b,c,d,e){a.compose(c,d,e);m.pushUnique(B,b)&&(b.prototype.beforePadding=g)}animate(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){const {graphic:b}=a;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),this.options.animation))},
this)}getRadii(){const a=this.zData,b=this.yData,c=[];let d,e,f,g=this.chart.bubbleZExtremes;const {minPxSize:h,maxPxSize:k}=this.getPxExtremes();if(!g){let a=Number.MAX_VALUE,b=-Number.MAX_VALUE,c;this.chart.series.forEach(d=>{d.bubblePadding&&(d.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(d=(d.onPoint||d).getZExtremes())&&(a=Math.min(z(a,d.zMin),d.zMin),b=Math.max(z(b,d.zMax),d.zMax),c=!0)});c?(g={zMin:a,zMax:b},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}e=0;for(d=a.length;e<d;e++)f=
a[e],c.push(this.getRadius(g.zMin,g.zMax,h,k,f,b&&b[e]));this.radii=c}getRadius(a,b,c,e,f,g){const h=this.options,k="width"!==h.sizeBy,l=h.zThreshold;let n=b-a,m=.5;if(null===g||null===f)return null;if(d(f)){h.sizeByAbsoluteValue&&(f=Math.abs(f-l),n=Math.max(b-l,Math.abs(a-l)),a=0);if(f<a)return c/2-1;0<n&&(m=(f-a)/n)}k&&0<=m&&(m=Math.sqrt(m));return Math.ceil(c+m*(e-c))/2}hasData(){return!!this.processedXData.length}pointAttribs(a,b){const c=this.options.marker.fillOpacity;a=v.prototype.pointAttribs.call(this,
a,b);1!==c&&(a.fill=t(a.fill).setOpacity(c).get("rgba"));return a}translate(){super.translate.call(this);this.getRadii();this.translateBubble()}translateBubble(){const {data:a,radii:c}=this,{minPxSize:e}=this.getPxExtremes();let f=a.length;for(;f--;){const g=a[f],h=c?c[f]:0;d(h)&&h>=e/2?(g.marker=b(g.marker,{radius:h,width:2*h,height:2*h}),g.dlBox={x:g.plotX-h,y:g.plotY-h,width:2*h,height:2*h}):(g.shapeArgs=g.plotY=g.dlBox=void 0,g.isInside=!1)}}getPxExtremes(){const a=Math.min(this.chart.plotWidth,
this.chart.plotHeight);var b=b=>{let c;"string"===typeof b&&(c=/%$/.test(b),b=parseInt(b,10));return c?a*b/100:b};const c=b(z(this.options.minSize,8));b=Math.max(b(z(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}}getZExtremes(){var a=this.options;const b=(this.zData||[]).filter(d);if(b.length){const g=z(a.zMin,c(e(b),!1===a.displayNegative?a.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));a=z(a.zMax,f(b));if(d(g)&&d(a))return{zMin:g,zMax:a}}}}D.defaultOptions=q(h.defaultOptions,
{dataLabels:{formatter:function(){const {numberFormatter:a}=this.series.chart,{z:b}=this.point;return d(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});b(D.prototype,{alignDataLabel:r.alignDataLabel,
applyZones:p,bubblePadding:!0,buildKDTree:p,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:k,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});w(D,"updatedData",a=>{delete a.target.chart.bubbleZExtremes});w(D,"remove",a=>{delete a.target.chart.bubbleZExtremes});l.registerSeriesType("bubble",D);"";"";return D});w(a,"Series/MapBubble/MapBubblePoint.js",[a["Series/Bubble/BubblePoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],
function(a,k,p){({seriesTypes:{map:{prototype:{pointClass:{prototype:k}}}}}=k);({extend:p}=p);class g extends a{isValid(){return"number"===typeof this.z}}p(g.prototype,{applyOptions:k.applyOptions,getProjectedBounds:k.getProjectedBounds});return g});w(a,"Series/MapBubble/MapBubbleSeries.js",[a["Series/Bubble/BubbleSeries.js"],a["Series/MapBubble/MapBubblePoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,k,p,w){const {seriesTypes:{map:{prototype:g},mappoint:{prototype:m}}}=
p,{extend:x,merge:t}=w;class v extends a{constructor(){super(...arguments);this.points=this.options=this.data=void 0;this.clearBounds=g.clearBounds}searchPoint(a,g){return this.searchKDTree({clientX:a.chartX-this.chart.plotLeft,plotY:a.chartY-this.chart.plotTop},g,a)}translate(){m.translate.call(this);this.getRadii();this.translateBubble()}updateParallelArrays(a,g,k){super.updateParallelArrays.call(this,a,g,k);a=this.processedXData;g=this.xData;a&&g&&(a.length=g.length)}}v.defaultOptions=t(a.defaultOptions,
{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}});x(v.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:g.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:k,processData:g.processData,projectPoint:m.projectPoint,setData:g.setData,setOptions:g.setOptions,updateData:g.updateData,useMapGeometry:!0,xyFromShape:!0});p.registerSeriesType("mapbubble",v);"";return v});w(a,"Series/Heatmap/HeatmapPoint.js",[a["Core/Series/SeriesRegistry.js"],
a["Core/Utilities.js"]],function(a,k){({seriesTypes:{scatter:{prototype:{pointClass:a}}}}=a);const {clamp:g,defined:w,extend:l,pick:m}=k;class x extends a{constructor(){super(...arguments);this.y=this.x=this.value=this.series=this.options=void 0}applyOptions(a,g){(this.isNull||null===this.value)&&delete this.color;super.applyOptions(a,g);this.formatPrefix=this.isNull||null===this.value?"null":"point";return this}getCellAttributes(){var a=this.series;const k=a.options,l=(k.colsize||1)/2,h=(k.rowsize||
1)/2,p=a.xAxis,f=a.yAxis,e=this.options.marker||a.options.marker;a=a.pointPlacementToXValue();const c=m(this.pointPadding,k.pointPadding,0),b={x1:g(Math.round(p.len-p.translate(this.x-l,!1,!0,!1,!0,-a)),-p.len,2*p.len),x2:g(Math.round(p.len-p.translate(this.x+l,!1,!0,!1,!0,-a)),-p.len,2*p.len),y1:g(Math.round(f.translate(this.y-h,!1,!0,!1,!0)),-f.len,2*f.len),y2:g(Math.round(f.translate(this.y+h,!1,!0,!1,!0)),-f.len,2*f.len)};[["width","x"],["height","y"]].forEach(function(a){var d=a[0];a=a[1];let g=
a+"1",h=a+"2";const k=Math.abs(b[g]-b[h]),l=e&&e.lineWidth||0,m=Math.abs(b[g]+b[h])/2;d=e&&e[d];w(d)&&d<k&&(d=d/2+l/2,b[g]=m-d,b[h]=m+d);if(c){if("x"===a&&p.reversed||"y"===a&&!f.reversed)g=h,h=a+"1";b[g]+=c;b[h]-=c}});return b}haloPath(a){if(!a)return[];const {x:g=0,y:k=0,width:h=0,height:l=0}=this.shapeArgs||{};return[["M",g-a,k-a],["L",g-a,k+l+a],["L",g+h+a,k+l+a],["L",g+h+a,k-a],["Z"]]}isValid(){return Infinity!==this.value&&-Infinity!==this.value}}l(x.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,
ttBelow:!1});return x});w(a,"Series/Heatmap/HeatmapSeries.js",[a["Core/Color/Color.js"],a["Series/ColorMapComposition.js"],a["Series/Heatmap/HeatmapPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,k,p,w,l,m){const {series:g,seriesTypes:{column:t,scatter:v}}=w,{prototype:{symbols:r}}=l,{extend:h,fireEvent:y,isNumber:f,merge:e,pick:c}=m;class b extends v{constructor(){super(...arguments);this.points=this.options=this.data=this.colorAxis=
void 0;this.valueMin=this.valueMax=NaN}drawPoints(){if((this.options.marker||{}).enabled||this._hasPointMarkers)g.prototype.drawPoints.call(this),this.points.forEach(a=>{a.graphic&&(a.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(a)),null===a.value&&a.graphic.addClass("highcharts-null-point"))})}getExtremes(){const {dataMin:a,dataMax:b}=g.prototype.getExtremes.call(this,this.valueData);f(a)&&(this.valueMin=a);f(b)&&(this.valueMax=b);return g.prototype.getExtremes.call(this)}getValidPoints(a,
b){return g.prototype.getValidPoints.call(this,a,b,!0)}hasData(){return!!this.processedXData.length}init(){super.init.apply(this,arguments);const a=this.options;a.pointRange=c(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1;r.ellipse=r.circle;a.marker&&f(a.borderRadius)&&(a.marker.r=a.borderRadius)}markerAttribs(a,b){const c=a.shapeArgs||{};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b&&"normal"!==b){var d=a.options.marker||{};a=this.options.marker||{};a=a.states&&a.states[b]||
{};d=d.states&&d.states[b]||{};b=(d.width||a.width||c.width||0)+(d.widthPlus||a.widthPlus||0);a=(d.height||a.height||c.height||0)+(d.heightPlus||a.heightPlus||0);return{x:(c.x||0)+((c.width||0)-b)/2,y:(c.y||0)+((c.height||0)-a)/2,width:b,height:a}}return c}pointAttribs(b,c){const d=g.prototype.pointAttribs.call(this,b,c),f=this.options||{};var h=this.chart.options.plotOptions||{},k=h.series||{};const l=h.heatmap||{};h=b&&b.options.borderColor||f.borderColor||l.borderColor||k.borderColor;k=b&&b.options.borderWidth||
f.borderWidth||l.borderWidth||k.borderWidth||d["stroke-width"];d.stroke=b&&b.marker&&b.marker.lineColor||f.marker&&f.marker.lineColor||h||this.color;d["stroke-width"]=k;c&&"normal"!==c&&(b=e(f.states&&f.states[c],f.marker&&f.marker.states&&f.marker.states[c],b&&b.options.states&&b.options.states[c]||{}),d.fill=b.color||a.parse(d.fill).brighten(b.brightness||0).get(),d.stroke=b.lineColor||d.stroke);return d}translate(){const {borderRadius:a,marker:b}=this.options,c=b&&b.symbol||"rect",g=r[c]?c:"rect",
h=-1!==["circle","square"].indexOf(g);this.generatePoints();this.points.forEach(function(b){const d=b.getCellAttributes();let k=Math.min(d.x1,d.x2);var l=Math.min(d.y1,d.y2);let m=Math.max(Math.abs(d.x2-d.x1),0),n=Math.max(Math.abs(d.y2-d.y1),0);b.hasImage=0===(b.marker&&b.marker.symbol||c||"").indexOf("url");h&&(l=Math.abs(m-n),k=Math.min(d.x1,d.x2)+(m<n?0:l/2),l=Math.min(d.y1,d.y2)+(m<n?l/2:0),m=n=Math.min(m,n));b.hasImage&&(b.marker={width:m,height:n});b.plotX=b.clientX=(d.x1+d.x2)/2;b.plotY=(d.y1+
d.y2)/2;b.shapeType="path";b.shapeArgs=e(!0,{x:k,y:l,width:m,height:n},{d:r[g](k,l,m,n,{r:f(a)?a:0})})});y(this,"afterTranslate")}}b.defaultOptions=e(v.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){const {numberFormatter:a}=this.series.chart,{value:b}=this.point;return f(b)?a(b,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},
select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"});h(b.prototype,{axisTypes:k.seriesMembers.axisTypes,colorKey:k.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:p,specialGroup:"group",trackerGroups:k.seriesMembers.trackerGroups,alignDataLabel:t.prototype.alignDataLabel,colorAttribs:k.seriesMembers.colorAttribs,
getSymbol:g.prototype.getSymbol});k.compose(b);w.registerSeriesType("heatmap",b);"";"";return b});w(a,"masters/modules/map.src.js",[a["Core/Globals.js"],a["Core/Axis/Color/ColorAxis.js"],a["Series/MapBubble/MapBubbleSeries.js"],a["Core/Chart/MapChart.js"],a["Maps/MapView.js"],a["Maps/Projection.js"]],function(a,k,p,w,l,m){a.ColorAxis=k;a.MapChart=w;a.mapChart=a.Map=w.mapChart;a.MapView=l;a.maps=w.maps;a.Projection=m;k.compose(a.Chart,a.Fx,a.Legend,a.Series);p.compose(a.Axis,a.Chart,a.Legend,a.Series)})});
//# sourceMappingURL=map.js.map