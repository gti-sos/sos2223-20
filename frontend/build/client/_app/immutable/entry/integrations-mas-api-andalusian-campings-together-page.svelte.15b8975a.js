import{S as E,i as I,s as S,k as C,a as R,J as x,l as b,m as _,h as i,c as B,K as L,n as w,D as N,b as D,C as g,o as P,N as U}from"../chunks/index.e145b144.js";const{document:A}=U;function j(m){let e,r,n,o;return{c(){e=C("script"),n=R(),o=C("div"),this.h()},l(a){const c=x("svelte-11xm3wj",A.head);e=b(c,"SCRIPT",{src:!0});var s=_(e);s.forEach(i),c.forEach(i),n=B(a),o=b(a,"DIV",{id:!0}),_(o).forEach(i),this.h()},h(){L(e.src,r="https://www.gstatic.com/charts/loader.js")||w(e,"src",r),w(o,"id","columnchart_values")},m(a,c){N(A.head,e),D(a,n,c),D(a,o,c)},p:g,i:g,o:g,d(a){i(e),a&&i(n),a&&i(o)}}}async function k(){const m="https://sos2223-20.ew.r.appspot.com/api/v3/campings",e="/api/proxy-mas/?url=https://sos2223-20.ew.r.appspot.com/api/v3/immovables",r=await fetch(m),n=await fetch(e,{method:"GET"});console.log(r),console.log(n);const o=await r.json(),a=await n.json();console.log(o),console.log(a),console.log("Camping Data:",o.slice(0,14)),console.log("Immovables Data:",a.slice(0,14)),google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(c);function c(){const s=new google.visualization.DataTable;s.addColumn("string","Provincia"),s.addColumn("number","Plazas de Camping"),s.addColumn("number","Inventario");const h=["ALMERÍA","CÁDIZ","CÓRDOBA","GRANADA","JAÉN","HUELVA","MÁLAGA","SEVILLA"],v=o.filter(t=>h.includes(t.state)),f=a.filter(t=>h.includes(t.province.toUpperCase())),u={};v.forEach(t=>{u[t.state]||(u[t.state]=0),u[t.state]+=t.camping_places});const p={};f.forEach(t=>{const l=t.province.toUpperCase(),d=t.inventory_num;p[l]||(p[l]=0),p[l]+=d}),h.forEach(t=>{const l=u[t]||0,d=p[t.toUpperCase()]||0;s.addRow([t,l,d])});const y={isStacked:!0,height:800,width:1600,legend:{position:"top"},vAxis:{minValue:0}};if(v.length===0||f.length===0){const t={title:"Aun no se han cargado los datos",width:1600,height:800};new google.visualization.BubbleChart(document.getElementById("columnchart_values")).draw(s,t)}else new google.visualization.ColumnChart(document.getElementById("columnchart_values")).draw(s,y)}}function z(m){return P(k),[]}class G extends E{constructor(e){super(),I(this,e,z,j,S,{})}}export{G as default};
