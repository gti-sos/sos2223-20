import{S as T,i as z,s as D,k as u,a as E,q as $,J as w,l as f,m,h as a,c as P,r as M,K as j,n as y,p as R,D as p,b as C,C as g,o as W}from"../chunks/index.e145b144.js";function J(S){let s,b,c,h,o,v,r,e,t,l,n,d;return{c(){s=u("script"),c=u("script"),o=u("script"),r=E(),e=u("main"),t=u("h1"),l=$("Uso de los inmuebles por Provincia"),n=E(),d=u("div"),this.h()},l(i){const _=w("svelte-vszt9o",document.head);s=f(_,"SCRIPT",{src:!0});var I=m(s);I.forEach(a),c=f(_,"SCRIPT",{src:!0});var q=m(c);q.forEach(a),o=f(_,"SCRIPT",{src:!0});var A=m(o);A.forEach(a),_.forEach(a),r=P(i),e=f(i,"MAIN",{});var x=m(e);t=f(x,"H1",{});var U=m(t);l=M(U,"Uso de los inmuebles por Provincia"),U.forEach(a),n=P(x),d=f(x,"DIV",{id:!0,style:!0}),m(d).forEach(a),x.forEach(a),this.h()},h(){j(s.src,b="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js")||y(s,"src",b),j(c.src,h="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js")||y(c,"src",h),j(o.src,v="https://code.jscharting.com/latest/jscharting.js")||y(o,"src",v),y(d,"id","chartU"),R(d,"height","250px")},m(i,_){p(document.head,s),p(document.head,c),p(document.head,o),C(i,r,_),C(i,e,_),p(e,t),p(t,l),p(e,n),p(e,d)},p:g,i:g,o:g,d(i){a(s),a(c),a(o),i&&a(r),i&&a(e)}}}function O(S){let s="/api/v3/immovables",b=[];async function c(){b=await(await fetch(s)).json()}let h=new Map;function o(){b.forEach(r=>{const e=r.current_usage.split("-")[0],t=r.province,l=h.get(e)||{};l[t]=(l[t]||0)+1,h.set(e,l)})}function v(){JSC.Chart("chartU",{series:[{name:"Total",points:Array.from(h.entries()).map(([r,e])=>{const t=Object.values(e).reduce((l,n)=>l+n,0);return{x:r,y:t,countU:e}})}],xAxis:{label_text:"Uso",label_style_fontSize:14,label_style_fontWeight:"bold",scale_type:"linear",scale_label_text:"%v"},yAxis:{label_text:"Total",label_style_fontSize:14,label_style_fontWeight:"bold",scale_type:"linear",scale_label_text:"%v"},legend_visible:!1,title_label_text:"Uso de los inmuebles por Provincia",title_label_style_fontSize:16,title_label_style_fontWeight:"bold",tooltip:{content:"%name: %y<br>%extra"},defaultSeries:{type:"column",point_padding:.1,tooltip_extra_precision:0,tooltip_extra:(r,e)=>{let t="";return Object.entries(e.data.countU).forEach(([l,n])=>{t+=`${l}: ${n}<br>`}),t}}})}return W(()=>{c().then(()=>{o(),v()})}),o(),[]}class H extends T{constructor(s){super(),z(this,s,O,J,D,{})}}export{H as default};
