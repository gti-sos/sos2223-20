import{S as de,i as me,s as ve,k as p,a as P,q as v,J as ge,l as h,m as _,h as n,c as A,r as g,K as ye,n as F,p as I,D as t,b as q,C as oe,o as be,u as L}from"../chunks/index.e145b144.js";function ce(u){let l,f,s,a,r,c,d,m;return{c(){l=p("p"),f=v("Result:"),s=v(u[1]),a=P(),r=p("pre"),c=v(`                
              `),d=v(u[0]),m=v(`
          `)},l(e){l=h(e,"P",{});var i=_(l);f=g(i,"Result:"),s=g(i,u[1]),i.forEach(n),a=A(e),r=h(e,"PRE",{});var y=_(r);c=g(y,`                
              `),d=g(y,u[0]),m=g(y,`
          `),y.forEach(n)},m(e,i){q(e,l,i),t(l,f),t(l,s),q(e,a,i),q(e,r,i),t(r,c),t(r,d),t(r,m)},p(e,i){i&2&&L(s,e[1]),i&1&&L(d,e[0])},d(e){e&&n(l),e&&n(a),e&&n(r)}}}function ue(u){let l,f,s,a,r,c,d,m;return{c(){l=p("p"),f=v("Result: "),s=v(u[3]),a=P(),r=p("pre"),c=v("              "),d=v(u[2]),m=v(`
          `)},l(e){l=h(e,"P",{});var i=_(l);f=g(i,"Result: "),s=g(i,u[3]),i.forEach(n),a=A(e),r=h(e,"PRE",{});var y=_(r);c=g(y,"              "),d=g(y,u[2]),m=g(y,`
          `),y.forEach(n)},m(e,i){q(e,l,i),t(l,f),t(l,s),q(e,a,i),q(e,r,i),t(r,c),t(r,d),t(r,m)},p(e,i){i&8&&L(s,e[3]),i&4&&L(d,e[2])},d(e){e&&n(l),e&&n(a),e&&n(r)}}}function Ee(u){let l,f,s,a,r,c,d,m,e,i,y,w,V,G,H,M,N,$,J,C,D,o,Q,U,T,W,S,O,X,Y,K,z,Z,ee,b=u[1]!=""&&ce(u),E=u[3]!=""&&ue(u);return{c(){l=p("script"),s=P(),a=p("main"),r=p("div"),c=p("h1"),d=v("Integración con compañero sin proxy"),m=P(),e=p("h2"),i=v("Gráfica ocupación de apartamentos e inmuebles"),y=P(),w=p("h2"),V=v("Primera Integración"),G=P(),H=p("div"),M=P(),N=p("h2"),$=v("Segunda Integración"),J=P(),C=p("div"),D=P(),o=p("h2"),Q=v("Tercera Integración"),U=P(),T=p("div"),W=P(),S=p("div"),O=p("h4"),X=v("Resultado inmuebles"),Y=P(),b&&b.c(),K=P(),z=p("h4"),Z=v("Resultados ocupación"),ee=P(),E&&E.c(),this.h()},l(R){const j=ge("svelte-17ams75",document.head);l=h(j,"SCRIPT",{src:!0});var pe=_(l);pe.forEach(n),j.forEach(n),s=A(R),a=h(R,"MAIN",{});var x=_(a);r=h(x,"DIV",{style:!0});var B=_(r);c=h(B,"H1",{style:!0});var te=_(c);d=g(te,"Integración con compañero sin proxy"),te.forEach(n),m=A(B),e=h(B,"H2",{style:!0});var ae=_(e);i=g(ae,"Gráfica ocupación de apartamentos e inmuebles"),ae.forEach(n),B.forEach(n),y=A(x),w=h(x,"H2",{});var se=_(w);V=g(se,"Primera Integración"),se.forEach(n),G=A(x),H=h(x,"DIV",{id:!0,style:!0});var he=_(H);he.forEach(n),M=A(x),N=h(x,"H2",{});var re=_(N);$=g(re,"Segunda Integración"),re.forEach(n),J=A(x),C=h(x,"DIV",{id:!0,style:!0});var _e=_(C);_e.forEach(n),D=A(x),o=h(x,"H2",{});var le=_(o);Q=g(le,"Tercera Integración"),le.forEach(n),U=A(x),T=h(x,"DIV",{id:!0,style:!0});var fe=_(T);fe.forEach(n),W=A(x),S=h(x,"DIV",{style:!0});var k=_(S);O=h(k,"H4",{});var ie=_(O);X=g(ie,"Resultado inmuebles"),ie.forEach(n),Y=A(k),b&&b.l(k),K=A(k),z=h(k,"H4",{});var ne=_(z);Z=g(ne,"Resultados ocupación"),ne.forEach(n),ee=A(k),E&&E.l(k),k.forEach(n),x.forEach(n),this.h()},h(){ye(l.src,f="https://code.jscharting.com/latest/jscharting.js")||F(l,"src",f),I(c,"text-align","center"),I(c,"font-style","oblique"),I(e,"text-align","center"),I(e,"font-style","oblique"),I(r,"margin-left","30px"),F(H,"id","chart_1"),I(H,"height","150px"),I(H,"margin","0px auto"),I(H,"margin-top","40px"),F(C,"id","chart_2"),I(C,"height","150px"),I(C,"margin","0px auto"),I(C,"margin-top","40px"),F(T,"id","chart_3"),I(T,"height","150px"),I(T,"margin","0px auto"),I(T,"margin-top","40px"),I(S,"margin-left","40px"),I(S,"font-size","20px")},m(R,j){t(document.head,l),q(R,s,j),q(R,a,j),t(a,r),t(r,c),t(c,d),t(r,m),t(r,e),t(e,i),t(a,y),t(a,w),t(w,V),t(a,G),t(a,H),t(a,M),t(a,N),t(N,$),t(a,J),t(a,C),t(a,D),t(a,o),t(o,Q),t(a,U),t(a,T),t(a,W),t(a,S),t(S,O),t(O,X),t(S,Y),b&&b.m(S,null),t(S,K),t(S,z),t(z,Z),t(S,ee),E&&E.m(S,null)},p(R,[j]){R[1]!=""?b?b.p(R,j):(b=ce(R),b.c(),b.m(S,K)):b&&(b.d(1),b=null),R[3]!=""?E?E.p(R,j):(E=ue(R),E.c(),E.m(S,null)):E&&(E.d(1),E=null)},i:oe,o:oe,d(R){n(l),R&&n(s),R&&n(a),b&&b.d(),E&&E.d()}}}let xe="https://sos2223-20.appspot.com/api/v3/immovables",Ie="https://sos2223-14.appspot.com/api/v2/apartment-occupancy-surveys";async function Se(u,l,f,s,a,r,c,d){JSC.chart("chart_1",{debug:!0,defaultSeries_type:"bar",title_label_text:"",yAxis:{label_text:""},xAxis:{label_text:"",categories:u},series:[{name:"Estancia Media",points:s},{name:"Id",points:a}]}),JSC.chart("chart_2",{debug:!0,defaultSeries_type:"bar",title_label_text:"",yAxis:{label_text:""},xAxis:{label_text:"",categories:u},series:[{name:"Id",points:a},{name:"Estancia Media",points:s},{name:"Recurso",points:r},{name:"Num_inventario",points:c}]}),JSC.chart("chart_3",{debug:!0,defaultSeries_type:"bar",title_label_text:"",yAxis:{label_text:""},xAxis:{label_text:"",categories:u},series:[{name:"Turistas",points:l},{name:"Pernoctaciones",points:f},{name:"Estancia media",points:s},{name:"id",points:a},{name:"resource",points:r},{name:"Num_inventario",points:c}]})}function Re(u,l,f){let s="",a="",r="",c="",d="",m="",e=[],i=[],y=[],w=[],V=[],G=[],H=[],M=[];be(async()=>{$()});async function N(){const J=await fetch(xe,{method:"GET"});try{const D=await J.json();f(0,a=JSON.stringify(D,null,2)),s=D;for(let o=0;o<s.length;o++)m=`${s[o].province} ${s[o].modified_date}`,e.includes(m)||e.push(m),V.push(s[o].current_usage.length),w.push(s[o].id),y.push(s[o].resource),i.push(s[o].inventory_num);Se(e,G,H,M,w,y,i,V)}catch(D){console.log(`Error parsing result: ${D}`)}const C=await J.status;f(1,r=C)}async function $(){const J=await fetch(Ie,{method:"GET"});try{const D=await J.json();f(2,c=JSON.stringify(D,null,2)),s=D;for(let o=0;o<s.length;o++)m=`${s[o].province} ${s[o].year}`,e.push(m),G.push(s[o].traveler),H.push(s[o].overnight_stay),M.push(s[o].average_stay);N()}catch(D){console.log(`Error parsing result: ${D}`)}const C=await J.status;f(3,d=C)}return[a,r,c,d]}class Ae extends de{constructor(l){super(),me(this,l,Re,Ee,ve,{})}}export{Ae as default};
