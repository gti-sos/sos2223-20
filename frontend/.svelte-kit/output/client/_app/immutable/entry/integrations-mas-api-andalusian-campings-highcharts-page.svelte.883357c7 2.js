import{S as et,i as st,s as at,k as u,a as E,q as B,J as rt,l as d,m,h as p,c as D,r as U,K as Z,n as L,p as b,D as n,b as Q,C as q,o as ot}from"../chunks/index.e145b144.js";function ct(T){let r,J,l,w,f,R,g,v,C,c,I,S,O,A,j,x,G,P,y,V,N,H,k,_,F,M,t,a,e;return{c(){r=u("script"),l=u("script"),f=u("script"),g=u("script"),C=E(),c=u("main"),I=u("h1"),S=B("Campings por parametros no numericos según el año"),O=E(),A=u("div"),j=E(),x=u("h1"),G=B("Campings por parametros numericos según el año"),P=E(),y=u("div"),V=E(),N=u("h1"),H=B("Campings por todos los parametros"),k=E(),_=u("div"),F=E(),M=u("h1"),t=B("Campings por provincia y año"),a=E(),e=u("div"),this.h()},l(s){const o=rt("svelte-1iavqa8",document.head);r=d(o,"SCRIPT",{src:!0});var i=m(r);i.forEach(p),l=d(o,"SCRIPT",{src:!0});var X=m(l);X.forEach(p),f=d(o,"SCRIPT",{src:!0});var Y=m(f);Y.forEach(p),g=d(o,"SCRIPT",{src:!0});var tt=m(g);tt.forEach(p),o.forEach(p),C=D(s),c=d(s,"MAIN",{});var h=m(c);I=d(h,"H1",{});var W=m(I);S=U(W,"Campings por parametros no numericos según el año"),W.forEach(p),O=D(h),A=d(h,"DIV",{id:!0,style:!0}),m(A).forEach(p),j=D(h),x=d(h,"H1",{});var $=m(x);G=U($,"Campings por parametros numericos según el año"),$.forEach(p),P=D(h),y=d(h,"DIV",{id:!0,style:!0}),m(y).forEach(p),V=D(h),N=d(h,"H1",{});var K=m(N);H=U(K,"Campings por todos los parametros"),K.forEach(p),k=D(h),_=d(h,"DIV",{id:!0,style:!0}),m(_).forEach(p),F=D(h),M=d(h,"H1",{});var z=m(M);t=U(z,"Campings por provincia y año"),z.forEach(p),a=D(h),e=d(h,"DIV",{id:!0,style:!0}),m(e).forEach(p),h.forEach(p),this.h()},h(){Z(r.src,J="https://code.highcharts.com/highcharts.js")||L(r,"src",J),Z(l.src,w="https://code.highcharts.com/modules/exporting.js")||L(l,"src",w),Z(f.src,R="https://code.highcharts.com/modules/export-data.js")||L(f,"src",R),Z(g.src,v="https://code.highcharts.com/modules/accessibility.js")||L(g,"src",v),L(A,"id","chartI"),b(A,"height","500px"),b(A,"width","80%"),L(y,"id","chartII"),b(y,"height","550px"),b(y,"width","80%"),L(_,"id","chartIII"),b(_,"height","850px"),b(_,"width","80%"),L(e,"id","chartIIII"),b(e,"height","650px"),b(e,"width","80%")},m(s,o){n(document.head,r),n(document.head,l),n(document.head,f),n(document.head,g),Q(s,C,o),Q(s,c,o),n(c,I),n(I,S),n(c,O),n(c,A),n(c,j),n(c,x),n(x,G),n(c,P),n(c,y),n(c,V),n(c,N),n(N,H),n(c,k),n(c,_),n(c,F),n(c,M),n(M,t),n(c,a),n(c,e)},p:q,i:q,o:q,d(s){p(r),p(l),p(f),p(g),s&&p(C),s&&p(c)}}}let nt="https://sos2223-20.ew.r.appspot.com/api/v3/campings";function it(T){ot(async()=>{await Promise.all([J()]),S(),y(),_(),F(),M()});let r=[];async function J(){r=await(await fetch(nt)).json()}console.log(r);let l=new Map,w=new Map,f=new Map,R=new Map,g=new Map,v=new Map,C=[],c=[],I=[];function S(){r.forEach(t=>{const a=t.start_date.split("-")[0],e=t.state,s=l.get(a)||{};s[e]=(s[e]||0)+1,l.set(a,s)}),console.log(l),r.forEach(t=>{const a=t.start_date.split("-")[0],e=t.name,s=w.get(a)||{};s[e]=(s[e]||0)+1,w.set(a,s)}),r.forEach(t=>{const a=t.start_date.split("-")[0],e=t.registry_code,s=f.get(a)||{};s[e]=(s[e]||0)+1,f.set(a,s)}),r.forEach(t=>{const a=t.start_date.split("-")[0],e=t.responsible,s=R.get(a)||{};s[e]=(s[e]||0)+1,R.set(a,s)}),r.forEach(t=>{const a=t.start_date.split("-")[0],e=t.category,s=g.get(a)||{};s[e]=(s[e]||0)+1,g.set(a,s)}),r.forEach(t=>{const a=t.start_date.split("-")[0],e=t.city,s=v.get(a)||{};s[e]=(s[e]||0)+1,v.set(a,s)});for(let t=0;t<r.length;t++)C.push(r[t].id),c.push(r[t].group_id),I.push(r[t].camping_places)}function O(){const t=[],a=Object.keys(Array.from(l.values())[0]);for(const e of a){const s={name:e,data:Array.from(l.entries()).map(([o,i])=>i[e]||0)};t.push(s)}return t}function A(){const t=[],a=Object.keys(Array.from(w.values())[0]);for(const e of a){const s={name:e,data:Array.from(l.entries()).map(([o,i])=>i[e]||0)};t.push(s)}return t}function j(){const t=[],a=Object.keys(Array.from(f.values())[0]);for(const e of a){const s={name:e,data:Array.from(f.entries()).map(([o,i])=>i[e]||0)};t.push(s)}return t}function x(){const t=[],a=Object.keys(Array.from(R.values())[0]);for(const e of a){const s={name:e,data:Array.from(R.entries()).map(([o,i])=>i[e]||0)};t.push(s)}return console.log(t),t}function G(){const t=[],a=Object.keys(Array.from(g.values())[0]);for(const e of a){const s={name:e,data:Array.from(g.entries()).map(([o,i])=>i[e]||0)};t.push(s)}return console.log(t),t}function P(){const t=[],a=Object.keys(Array.from(v.values())[0]);for(const e of a){const s={name:e,data:Array.from(v.entries()).map(([o,i])=>i[e]||0)};t.push(s)}return console.log(t),t}function y(){let t=[];t.push(...O()),t.push(...A()),t.push(...j()),t.push(...x()),t.push(...G()),t.push(...P()),console.log(t),Highcharts.chart("chartI",{chart:{type:"bar"},title:{text:"Grafico parametros no numericos"},xAxis:{categories:Array.from(l.keys())},yAxis:{min:0,title:{text:"Numero de Campings",align:"high"},labels:{overflow:"justify"},gridLineWidth:0},series:t})}function V(){const t=["ALMERÍA","CÁDIZ","CÓRDOBA","GRANADA","HUELVA","SEVILLA","JAÉN","MÁLAGA"],a=[0,0,0,0,0,0,0,0];return r.forEach(e=>{const s=parseInt(e.start_date.split("-")[0]),o=e.state;if(s>=1990&&s<=1999&&t.includes(o)){const i=t.indexOf(o);a[i]+=e.camping_places}}),console.log(a),a}function N(){const t=["ALMERÍA","CÁDIZ","CÓRDOBA","GRANADA","HUELVA","SEVILLA","JAÉN","MÁLAGA"],a=[0,0,0,0,0,0,0,0];return r.forEach(e=>{const s=parseInt(e.start_date.split("-")[0]),o=e.state;if(s>=2e3&&s<=2009&&t.includes(o)){const i=t.indexOf(o);a[i]+=e.camping_places}}),console.log(a),a}function H(){const t=["ALMERÍA","CÁDIZ","CÓRDOBA","GRANADA","HUELVA","SEVILLA","JAÉN","MÁLAGA"],a=[0,0,0,0,0,0,0,0];return r.forEach(e=>{const s=parseInt(e.start_date.split("-")[0]),o=e.state;if(s>=2010&&s<=2019&&t.includes(o)){const i=t.indexOf(o);a[i]+=e.camping_places}}),console.log(a),a}function k(){const t=["ALMERÍA","CÁDIZ","CÓRDOBA","GRANADA","HUELVA","SEVILLA","JAÉN","MÁLAGA"],a=[0,0,0,0,0,0,0,0];return r.forEach(e=>{const s=parseInt(e.start_date.split("-")[0]),o=e.state;if(s>=1980&&s<=1989&&t.includes(o)){const i=t.indexOf(o);a[i]+=e.camping_places}}),console.log(a),a}function _(){let t=[];t.push({name:"IDs",data:C}),t.push({name:"Números de Camping",data:I}),Highcharts.chart("chartII",{chart:{type:"bar"},title:{text:"Grafico parametros numericos",align:"left"},xAxis:{categories:Object.keys(Array.from(l.values())[0]),title:{text:null},gridLineWidth:1,lineWidth:0},yAxis:{min:0,title:{text:"Cantidad"},labels:{overflow:"justify"},gridLineWidth:0},series:t})}function F(){let t=[];t.push(...O()),t.push(...A()),t.push(...j()),t.push(...x()),t.push(...G()),t.push(...P()),t.push({name:"IDs",data:C}),t.push({name:"Id Grupos",data:c}),t.push({name:"",data:I}),Highcharts.chart("chartIII",{chart:{type:"bar"},title:{text:"Grafico todos los parametros"},xAxis:{categories:Array.from(v.keys())},yAxis:{title:{text:"Cantidad"}},series:t})}function M(){const t=V(),a=k(),e=N(),s=H();Highcharts.chart("chartIIII",{chart:{type:"bar"},title:{text:"Número de Campings por Provincia y Año",align:"left"},xAxis:{categories:["ALMERÍA","CÁDIZ","CÓRDOBA","GRANADA","HUELVA","SEVILLA","JAÉN","MÁLAGA"]},yAxis:{min:0,title:{text:"Num Campings"},labels:{overflow:"justify"}},series:[{name:"Años 1980",data:a},{name:"Años 1990",data:t},{name:"Años 2000",data:e},{name:"Años 2010",data:s}]})}return S(),[]}class lt extends et{constructor(r){super(),st(this,r,it,ct,at,{})}}export{lt as default};
