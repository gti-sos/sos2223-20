import{S as _e,i as de,s as ve,k as h,a as T,q as d,J as ge,l as f,m as _,h as i,c as D,r as v,K as ye,n as L,p as S,D as t,b as k,C as oe,o as xe,u as Q}from"../chunks/index.e145b144.js";function ue(n){let l,o,p,r,e,u,g,R;return{c(){l=h("p"),o=d("Result:"),p=d(n[1]),r=T(),e=h("pre"),u=d(`                
                `),g=d(n[0]),R=d(`
            `)},l(a){l=f(a,"P",{});var s=_(l);o=v(s,"Result:"),p=v(s,n[1]),s.forEach(i),r=D(a),e=f(a,"PRE",{});var m=_(e);u=v(m,`                
                `),g=v(m,n[0]),R=v(m,`
            `),m.forEach(i)},m(a,s){k(a,l,s),t(l,o),t(l,p),k(a,r,s),k(a,e,s),t(e,u),t(e,g),t(e,R)},p(a,s){s&2&&Q(p,a[1]),s&1&&Q(g,a[0])},d(a){a&&i(l),a&&i(r),a&&i(e)}}}function ce(n){let l,o,p,r,e,u,g,R;return{c(){l=h("p"),o=d("Result: "),p=d(n[3]),r=T(),e=h("pre"),u=d("                "),g=d(n[2]),R=d(`
            `)},l(a){l=f(a,"P",{});var s=_(l);o=v(s,"Result: "),p=v(s,n[3]),s.forEach(i),r=D(a),e=f(a,"PRE",{});var m=_(e);u=v(m,"                "),g=v(m,n[2]),R=v(m,`
            `),m.forEach(i)},m(a,s){k(a,l,s),t(l,o),t(l,p),k(a,r,s),k(a,e,s),t(e,u),t(e,g),t(e,R)},p(a,s){s&8&&Q(p,a[3]),s&4&&Q(g,a[2])},d(a){a&&i(l),a&&i(r),a&&i(e)}}}function be(n){let l,o,p,r,e,u,g,R,a,s,m,C,G,N,w,$,H,O,M,A,q,y,c,U,J,W,I,z,X,Y,B,K,Z,ee,x=n[1]!=""&&ue(n),b=n[3]!=""&&ce(n);return{c(){l=h("script"),p=T(),r=h("main"),e=h("div"),u=h("h1"),g=d("Integración con compañero con Proxy"),R=T(),a=h("h2"),s=d("Gráfica inmuebles y temperaturas"),m=T(),C=h("h2"),G=d("Primera Integración"),N=T(),w=h("div"),$=T(),H=h("h2"),O=d("Variables propias"),M=T(),A=h("div"),q=T(),y=h("h2"),c=d("Segunda Integración"),U=T(),J=h("div"),W=T(),I=h("div"),z=h("h4"),X=d("Resultado compañerx"),Y=T(),x&&x.c(),B=T(),K=h("h4"),Z=d("Resultados propios"),ee=T(),b&&b.c(),this.h()},l(P){const V=ge("svelte-1orte81",document.head);l=f(V,"SCRIPT",{src:!0});var pe=_(l);pe.forEach(i),V.forEach(i),p=D(P),r=f(P,"MAIN",{});var E=_(r);e=f(E,"DIV",{style:!0});var F=_(e);u=f(F,"H1",{style:!0});var te=_(u);g=v(te,"Integración con compañero con Proxy"),te.forEach(i),R=D(F),a=f(F,"H2",{style:!0});var ae=_(a);s=v(ae,"Gráfica inmuebles y temperaturas"),ae.forEach(i),F.forEach(i),m=D(E),C=f(E,"H2",{});var re=_(C);G=v(re,"Primera Integración"),re.forEach(i),N=D(E),w=f(E,"DIV",{id:!0,style:!0});var me=_(w);me.forEach(i),$=D(E),H=f(E,"H2",{});var se=_(H);O=v(se,"Variables propias"),se.forEach(i),M=D(E),A=f(E,"DIV",{id:!0,style:!0});var he=_(A);he.forEach(i),q=D(E),y=f(E,"H2",{});var le=_(y);c=v(le,"Segunda Integración"),le.forEach(i),U=D(E),J=f(E,"DIV",{id:!0,style:!0});var fe=_(J);fe.forEach(i),W=D(E),I=f(E,"DIV",{style:!0});var j=_(I);z=f(j,"H4",{});var ie=_(z);X=v(ie,"Resultado compañerx"),ie.forEach(i),Y=D(j),x&&x.l(j),B=D(j),K=f(j,"H4",{});var ne=_(K);Z=v(ne,"Resultados propios"),ne.forEach(i),ee=D(j),b&&b.l(j),j.forEach(i),E.forEach(i),this.h()},h(){ye(l.src,o="https://code.jscharting.com/latest/jscharting.js")||L(l,"src",o),S(u,"text-align","center"),S(u,"font-style","oblique"),S(a,"text-align","center"),S(a,"font-style","oblique"),S(e,"margin-left","30px"),L(w,"id","chartPrimera"),S(w,"height","500px"),S(w,"margin","0px auto"),S(w,"margin-top","40px"),L(A,"id","chartSegunda"),S(A,"height","500px"),S(A,"margin","0px auto"),S(A,"margin-top","40px"),L(J,"id","chartTercera"),S(J,"height","500px"),S(J,"margin","0px auto"),S(J,"margin-top","40px"),S(I,"margin-left","40px"),S(I,"font-size","20px")},m(P,V){t(document.head,l),k(P,p,V),k(P,r,V),t(r,e),t(e,u),t(u,g),t(e,R),t(e,a),t(a,s),t(r,m),t(r,C),t(C,G),t(r,N),t(r,w),t(r,$),t(r,H),t(H,O),t(r,M),t(r,A),t(r,q),t(r,y),t(y,c),t(r,U),t(r,J),t(r,W),t(r,I),t(I,z),t(z,X),t(I,Y),x&&x.m(I,null),t(I,B),t(I,K),t(K,Z),t(I,ee),b&&b.m(I,null)},p(P,[V]){P[1]!=""?x?x.p(P,V):(x=ue(P),x.c(),x.m(I,B)):x&&(x.d(1),x=null),P[3]!=""?b?b.p(P,V):(b=ce(P),b.c(),b.m(I,null)):b&&(b.d(1),b=null)},i:oe,o:oe,d(P){i(l),P&&i(p),P&&i(r),x&&x.d(),b&&b.d()}}}async function Ee(n,l,o,p,r,e,u){JSC.chart("chartPrimera",{debug:!0,defaultSeries_type:"column",title_label_text:"",yAxis:{label_text:""},xAxis:{label_text:"",categories:n},series:[{name:"Recurso",points:o},{name:"Temperatura maxima",points:r},{name:"Temperatura minima",points:e}]}),JSC.chart("chartSegunda",{debug:!0,defaultSeries_type:"column",title_label_text:"",yAxis:{label_text:""},xAxis:{label_text:"",categories:n},series:[{name:"id",points:l},{name:"Recurso",points:o}]}),JSC.chart("chartTercera",{debug:!0,defaultSeries_type:"column",title_label_text:"",yAxis:{label_text:""},xAxis:{label_text:"",categories:n},series:[{name:"id",points:l},{name:"Recurso",points:o},{name:"Num Inventario",points:p},{name:"Temperatura maxima",points:r},{name:"Temperatura minima",points:e}]})}function Se(n,l,o){let p="/api/proxy-lmp/?url=https://sos2223-12.ew.r.appspot.com/api/v2/agroclimatic",r="/api/v3/immovables/",e="",u="",g="",R="",a="",s="",m=[],C=[],G=[],N=[],w=[],$=[],H=[];xe(async()=>{M()});async function O(){const A=await fetch(p,{method:"GET"});try{const y=await A.json();o(0,u=JSON.stringify(y,null,2)),e=y;for(let c=0;c<e.length;c++)s=`${e[c].province} ${e[c].year}`,m.includes(s)||m.push(s),G.push(parseInt(e[c].minimun_temperature)),N.push(parseInt(e[c].maximun_temperature));Ee(m,w,$,H,N,G,C)}catch(y){console.log(`Error parsing result: ${y}`)}const q=await A.status;o(1,g=q)}async function M(){const A=await fetch(r,{method:"GET"});try{const y=await A.json();console.log(y),o(2,R=JSON.stringify(y,null,2)),e=y;for(let c=0;c<e.length;c++)s=`${e[c].province} ${e[c].modified_date}`,m.push(s),w.push(e[c].id),$.push(e[c].resource),H.push(e[c].inventory_num),C.push(e[c].current_usage.length);O()}catch(y){console.log(`Error parsing result: ${y}`)}const q=await A.status;o(3,a=q)}return[u,g,R,a]}class Pe extends _e{constructor(l){super(),de(this,l,Se,be,ve,{})}}export{Pe as default};
